<div class="p-6 pr-6 xs:pr-6 sm:pr-6 md:pr-12 lg:pr-12 xl:pr-12 bg-white">
  <form [formGroup]='newRequest'>
    <h3 class="uppercase dashboard-page-title pt-8">Solicitudes - Suscripción Seguro de Gastos Médicos Mayores</h3>
    <div class="mt-6 p-3 pb-0 info-cot">
      <div class="filter-title">Info. Inicio</div>
      <div class="mt-3 grid grid-cols-1 sm:grid-cols-1 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-4">
        <!-- <app-input class="mr-3" [group]="newRequest" label="No. de Cotización" name='NoC'></app-input> -->
        <!-- <div class="flex">
          <button *ngIf="ID === null || ID === undefined" [disabled]="isNotValidToSearch"
            (click)="searchIdNumber(newRequest.value.NoC)" class="nofocus flex justify-center small-search-button"
            style="display: -webkit-box">
            <img src="/assets/iconos/search-icon.svg">
          </button>
          <button (click)="newQuote()" class="nofocus flex justify-center small-search-button ml-3"
            style="display: -webkit-box; color: white;">
            <mat-icon style="font-weight: 900;  margin-top: 7px;">add</mat-icon>
          </button>
        </div> -->
        <!--  <app-input class="mr-3" [group]="newRequest" label="No. de Cotización" name='NoC'></app-input> -->

        <app-number-input class="mr-3" [group]="newRequest" label="No. de Cotización" name='noC'></app-number-input>


        <div class="flex">
          <button *ngIf="ID === null || ID === undefined" (click)="searchQuote(newRequest.value.noC)"
            [disabled]="isNotValidToSearch" class="nofocus flex justify-center small-search-button"
            style="display: -webkit-box">
            <img src="/assets/iconos/search-icon.svg">
          </button>
          <button (click)="newQuote()" class="nofocus flex justify-center small-search-button ml-3"
            style="display: -webkit-box; color: white;">
            <mat-icon style="font-weight: 900;  margin-top: 7px;">add</mat-icon>
          </button>
        </div>
        <div></div>


        <div class="mr-3">
          <mat-form-field color="accent" appearance="outline" class="w-full" style="font-size: small !important;">
            <mat-label>Tipo de Solicitud</mat-label>
            <mat-select [(value)]="routeSelected" (selectionChange)="selectChangeUrl($event.value)">
              <mat-option value="vida">Seguro de Vida</mat-option>
              <mat-option value="disability">Suscripción Disability</mat-option>
              <mat-option value="gastos mayores">Suscripción Seguro Gastos Médicos Mayores</mat-option>
            </mat-select>
          </mat-form-field>
        </div>

        <!--  <button *ngIf="ID === null || ID === undefined" [disabled]="isNotValidToSearch"
          (click)="searchQuote(newRequest.value.NoC)" type="button"
          class="nofocus flex justify-center small-search-button">
          <img src="/assets/iconos/search-icon.svg">
        </button>
        <button *ngIf="notFoundQuote" (click)="newQuote()" type="button"
          class="nofocus flex justify-center small-search-button ml-3" style="color: white;">
          <mat-icon style="font-weight: 900;  margin-top: 7px;">add</mat-icon>
        </button>
        <div></div>
        <div></div>
        <div *ngIf="isFormValidToFill" class="mr-3">
          <mat-form-field color="accent" appearance="outline" class="w-full" style="font-size: small !important;">
            <mat-label>Tipo de Solicitud</mat-label>
            <mat-select [(value)]="routeSelected" (selectionChange)="selectChangeUrl($event.value)">
              <mat-option value="vida">Seguro de Vida</mat-option>
              <mat-option value="disability">Suscripción Disability</mat-option>
              <mat-option value="gastos mayores">Suscripción Seguro Gastos Médicos Mayores</mat-option>
            </mat-select>
          </mat-form-field>
        </div> -->
      </div>
    </div>
    <div #top></div>
    <mat-tab-group *ngIf="isFormValidToFill">
      <mat-tab label="Asegurado">
        <div class="mt-6 p-3 pb-0 info-home">
          <div class="mt-3 grid grid-cols-1 sm:grid-cols-1 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-4">
            <app-select class="mr-3" [options]="requestTypeOptions" [group]="newRequest"></app-select>
            <app-input class="mr-3" [group]="newRequest" name="payment" label="Payments"></app-input>
            <!-- <app-radio-button class="mr-3" [group]="newRequest" name="payment" [options]="payments"></app-radio-button>
            <app-select class="mr-3" [options]="plans" [group]="newRequest"></app-select> -->
            <app-input class="mr-3" [group]="newRequest" name="plans" label="Plan"></app-input>
            <app-input class="mr-3" [group]="newRequest" name="deducibles" label="Deducibles"></app-input>
            <!--<app-radio-button class="mr-3" [group]="newRequest" name="deducibles" [options]="deducibles">
            </app-radio-button>-->
          </div>
        </div>
        <mat-accordion #matAccordion="matAccordion" name="matAccordion" class="ww-mat-accordion example-headers-align"
          [togglePosition]="'before'">
          <mat-expansion-panel class="ww-mat-expansion" [expanded]="step === 0" (opened)="setStep(0)">
            <mat-expansion-panel-header class="body-13 icon-blue">
              <mat-panel-title>
                Solicitante
              </mat-panel-title>
              <mat-panel-description>
                <div></div>
                <div *ngIf="showWarningDot(newRequest.get('person'))" class="warning-accordion-dot"></div>
              </mat-panel-description>
            </mat-expansion-panel-header>

            <div class="mt-3 grid grid-cols-1 sm:grid-cols-3 md:grid-cols-2 lg:grid-cols-4 xl:grid-cols-4">
              <app-input class="mr-3" [group]="newRequest.get('person')" label="Primer Nombre" name='firstName'>
              </app-input>
              <app-input class="mr-3" [group]="newRequest.get('person')" label="Segundo Nombre" name='secondName'>
              </app-input>
              <app-input class="mr-3" [group]="newRequest.get('person')" label="Apellidos" name='lastName'>
              </app-input>
              <app-date-picker class="mr-3" [group]="newRequest.get('person')" [max]="todayDate"
                label="Fecha de Nacimiento" name='date'>
              </app-date-picker>
              <app-radio-button (selected)="thereIsAWomenOnTheRequest()" (selected)="thereIsAMenOnTheRequest()"
                class="mr-3" [group]="newRequest.get('person')" name="sex" [options]="sex">
              </app-radio-button>
              <!-- <app-input class="mr-3" [group]="newRequest.get('person')" label="Nacionalidad" name='nationality'>
              </app-input> -->
              <app-select class="mr-3" [options]="nationality" [group]="newRequest.get('person')"></app-select>
              <app-select class="mr-3" [options]="idType" [group]="newRequest.get('person')"></app-select>
              <app-input class="mr-3" [group]="newRequest.get('person')" label="Documento de identidad" name='id2'>
              </app-input>
              <app-file-input class="mr-3" [group]="newRequest.get('person')" name="id2Attached" label="Copia de cedula"
                [fileNameWatcher]="" (onFileChange)="onStudiesChange2($event, null, 'person')">
              </app-file-input>
              <div class="mr-3 grid col-span-3 grid-cols-1 sm:grid-cols-1 md:grid-cols-3 lg:grid-cols-5 xl:grid-cols-5">
                <app-number-input class="mr-3" [group]="newRequest.get('person')" label="Edad" name='age' min="1">
                </app-number-input>
                <app-select class="mr-3" (selected)="onWeightUnitChange(newRequest.get('person'))"
                  [options]="weightUnit" [group]="newRequest.get('person')">
                </app-select>
                <app-number-input (keyup)="getBmiUpdated(newRequest.get('person'))" class="mr-3"
                  [group]="newRequest.get('person')" label="Peso" name='weight'>
                </app-number-input>
                <app-select class="mr-3" [options]="heightUnit"
                  (selected)="onHeightUnitChange($event, newRequest.get('person'))" [group]="newRequest.get('person')">
                </app-select>
                <div *ngIf="this.newRequest.get('person').get('heightUnit').value === 'PIE'" class="mr-3"
                  class="grid grid-cols-2">
                  <app-number-input (keyup)="getBmiUpdated(newRequest.get('person'))" class="mr-2"
                    [group]="newRequest.get('person')" label="Pie" name='height'>
                  </app-number-input>
                  <app-number-input (keyup)="getBmiUpdated(newRequest.get('person'))" class="mr-2"
                    [group]="newRequest.get('person')" name='inches' max="12" label="Pulgadas">
                  </app-number-input>
                </div>
                <app-number-input (keyup)="getBmiUpdated(newRequest.get('person'))"
                  *ngIf="this.newRequest.get('person').get('heightUnit').value !== 'PIE'" class="mr-3"
                  [group]="newRequest.get('person')" label="Altura" name='height'>
                </app-number-input>
                <!-- <app-input [group]="newRequest.get('person')" label="BMI" name='bmi'>
                </app-input> -->
              </div>
              <app-select class="mr-3" [options]="status" [group]="newRequest.get('person')"></app-select>
              <app-select class="mr-3" [options]="countryOfResidence" [group]="newRequest.get('person')"></app-select>
              <app-select class="mr-3" [options]="countryOfBirth" [group]="newRequest.get('person')"></app-select>
              <app-input class="mr-3" [group]="newRequest.get('person')" label="Ciudad/Provincia" name='city'>
              </app-input>
              <app-input class="mr-3" [group]="newRequest.get('person')" label="Dirección de Residencia"
                name='direction'>
              </app-input>
              <app-number-input isPhone="true" class="mr-3" [group]="newRequest.get('person')" label="Tel. Residencia"
                name='tel'>
              </app-number-input>
              <app-number-input *ngIf="role == 'WMA'" isCell="true" class="mr-3" [group]="newRequest.get('person')"
                label="Tel. Celular" name='cel'>
              </app-number-input>
              <app-number-input *ngIf="role == 'WWS'" isPhone="true" class="mr-3" [group]="newRequest.get('person')"
                label="Tel. Celular" name='cel'>
              </app-number-input>
              <app-number-input isPhone="true" class="mr-3" [group]="newRequest.get('person')" label="Tel. Oficina"
                name='officeTel'>
              </app-number-input>
              <app-input class="mr-3" [group]="newRequest.get('person')" label="Correo" name='email'></app-input>

              <!-- <div class="mt-3 lg:mt-3 xl:mt-3">
                <div>
                  <label class="radio-button-label"> ¿Es usted una PEP o tiene usted una prima mayor de US$10,000?
                  </label>
                </div>
                <div class="mr-3">
                  <app-radio-button [group]="newRequest.get('person')" [options]="yesOrNo" name='pep_radio_insured'
                    (selected)="selectChange($event)">
                  </app-radio-button>
                </div>

                <div class="mt-2" *ngIf="newRequest.get('person').get('pep_radio_insured').value == 'SI' ||
                newRequest.get('person').get('pep_radio_insured').value == 'NO'">
                  <div *ngIf="newRequest.get('person').get('pep_radio_insured').value == 'SI'"
                    class="radio-button-label" style="font-size: 12px !important; max-width: 63vw;">Adjuntar
                    documentos "Copia de Cédula" y "Certificación de Ingresos declarados" - Formato de los documentos:
                    PDF (.pdf), JPG (.jpg) y PNG (.png)

                  </div>
                  <div *ngIf="newRequest.get('person').get('pep_radio_insured').value == 'NO'"
                    class="radio-button-label" style="font-size: 12px !important; max-width: 63vw;">Adjuntar
                    documentos "Copia de Cédula" - Formato de los documentos: PDF (.pdf), JPG (.jpg) y PNG (.png)

                  </div>
                  <div *ngIf="newRequest.get('files') && newRequest.get('files').get('documentsKnowClient')">
                    <div *ngFor="let studies of filesDocumentsKnowClientArray.controls; let i = index">
                      <div class="grid grid-cols-6">
                        <mat-form-field class="mr-3" appearance="outline"
                          [ngClass]="{'file-input': newRequest.get('files').get('documentsKnowClient').get(i.toString()).get('document').value !== ''}">
                          <mat-label> Copia de Cédula / Certificación de Ingresos declarados </mat-label>
                          <ngx-mat-file-input #removableInputdocumentsKnowClient
                            [valuePlaceholder]="arrayDocumentsKnowClientWatcher(i)"
                            (change)="onStudiesChange2($event, i, 'documentsKnowClient')">
                          </ngx-mat-file-input>
                          <mat-icon style="color: #e2e2e2;" matSuffix
                            *ngIf="newRequest.get('files').get('documentsKnowClient').get(i.toString()).get('document').value === ''">
                            publish</mat-icon>
                          <button mat-icon-button matSuffix
                            *ngIf="newRequest.get('files').get('documentsKnowClient').get(i.toString()).get('document').value !== ''"
                            (click)="this.requestService.clearArchives(newRequest.get('files').get('documentsKnowClient').get(i.toString()).get('document'))"
                            (click)="removableInputdocumentsKnowClient.clear($event)">
                            <mat-icon style="color: #e2e2e2;">clear</mat-icon>
                          </button><button mat-icon-button matSuffix
                            *ngIf="newRequest.get('files').get('documentsKnowClient').get(i.toString()).get('document').value !== ''"
                            (click)="this.requestService.downloadArchives($event, newRequest.get('files').get('documentsKnowClient').get(i.toString()).get('document').value)">
                            <mat-icon style="color: #e2e2e2;">get_app</mat-icon>
                          </button>
                          <mat-error
                            *ngIf="newRequest.get('files').get('documentsKnowClient').get(i.toString()).get('document').touched && !newRequest.get('files').get('documentsKnowClient').get(i.toString()).get('document').valid">
                            Este campo es
                            obligatorio
                          </mat-error>
                        </mat-form-field>
                        <app-file-input
                          [ngClass]="{'col-span-6': filesDocumentsKnowClientArray.length === 1, 'col-span-5': filesDocumentsKnowClientArray.length > 1}"
                          class="mr-3" [group]="newRequest.get('files').get('documentsKnowClient').get(i.toString())"
                          name="document" label="Documento" [fileNameWatcher]="arrayDocumentsKnowClientWatcher(i)"
                          (onFileChange)="onStudiesChange2($event, i, 'documentsKnowClient')">
                        </app-file-input>
                        <div *ngIf="filesDocumentsKnowClientArray.length > 1"
                          [ngClass]="{'': filesDocumentsKnowClientArray.length === 1, 'col-span-1': filesDocumentsKnowClientArray.length > 1} ">
                          <button mat-mini-fab aria-label=" Eliminar estudio"
                            (click)="diseaseService.removeToList(i, filesDocumentsKnowClientArray)" type="button"
                            class="dashboard-toolbar-buttons" style="border: 1px rgb(197, 197, 197) solid">
                            <mat-icon style="color: #18446B">remove</mat-icon>
                          </button>
                        </div>
                      </div>
                    </div>
                  </div>
                  <div class="">
                    <button mat-mini-fab aria-label="Agregar estudio"
                      (click)="addToList(filesDocumentsKnowClientArray, 'filesDocumentsKnowClient')" type="button"
                      class="dashboard-toolbar-buttons" style="border: 1px rgb(197, 197, 197) solid">
                      <mat-icon style="color: #18446B">add</mat-icon>
                    </button>
                  </div>
                </div>
                <div class="mt-2" *ngIf="newRequest.get('person').get('pep_radio_insured').value == 'NO'">
                  <div class="radio-button-label" style="font-size: 12px !important; max-width: 63vw;">Adjuntar
                    documentos "Copia de Cédula"
                  </div>
                  <div *ngIf="newRequest.get('files') && newRequest.get('files').get('documentsKnowClient')">
                    <div *ngFor="let studies of filesDocumentsKnowClientArray.controls; let i = index">
                      <div class="grid grid-cols-6">
                        <app-file-input
                          [ngClass]="{'col-span-6': filesDocumentsKnowClientArray.length === 1, 'col-span-5': filesDocumentsKnowClientArray.length > 1}"
                          class="mr-3" [group]="newRequest.get('files').get('documentsKnowClient').get(i.toString())"
                          name="document" label="Copia de Cédula" [fileNameWatcher]="arrayDocumentsKnowClientWatcher(i)"
                          (onFileChange)="onStudiesChange2($event, i, 'documentsKnowClient')">
                        </app-file-input>
                        <div *ngIf="filesDocumentsKnowClientArray.length > 1"
                          [ngClass]="{'': filesDocumentsKnowClientArray.length === 1, 'col-span-1': filesDocumentsKnowClientArray.length > 1} ">
                          <button mat-mini-fab aria-label=" Eliminar estudio"
                            (click)="diseaseService.removeToList(i, filesDocumentsKnowClientArray)" type="button"
                            class="dashboard-toolbar-buttons" style="border: 1px rgb(197, 197, 197) solid">
                            <mat-icon style="color: #18446B">remove</mat-icon>
                          </button>
                        </div>
                      </div>
                    </div>
                  </div>
                  <div class="">
                    <button mat-mini-fab aria-label="Agregar estudio"
                      (click)="addToList(filesDocumentsKnowClientArray, 'filesDocumentsKnowClient')" type="button"
                      class="dashboard-toolbar-buttons" style="border: 1px rgb(197, 197, 197) solid">
                      <mat-icon style="color: #18446B">add</mat-icon>
                    </button>
                  </div>
                </div>

              </div> -->

              <app-radio-button class="mr-3" (selected)="selectChange($event)" [group]="newRequest.get('person')"
                title="¿Es el asegurado el contratante?" name="isContractor" [options]="diseaseService.yesOrNoOriginal">
              </app-radio-button>
              <app-radio-button class="mr-3" *ngIf="newRequest.get('person').get('contractorIsJuridical')"
                (selected)="selectChange($event)" title="¿Es el contratante una persona juridica?"
                [group]="newRequest.get('person')" name="contractorIsJuridical"
                [options]="diseaseService.yesOrNoOriginal">
              </app-radio-button>
              <!-- <app-radio-button class="mr-3" *ngIf="newRequest.get('person').get('mandatorySubject')"
                (selected)="selectChange($event)" title="¿Es el contratante un sujeto obligado?"
                [group]="newRequest.get('person')" name="mandatorySubject" [options]="diseaseService.yesOrNoOriginal">
              </app-radio-button> -->
              <app-select *ngIf="newRequest.get('person').get('mandatorySubject')" (selected)="selectChange($event)"
                [group]="newRequest.get('person')" name="mandatorySubject" label="Actividad economica del contratante"
                class="mr-3"
                [options]="newRequest.get('person').get('contractorIsJuridical').value == 'SI' ? juridicalObligatoryOptions : physicalObligatoryOptions">
              </app-select>
              <app-radio-button class="mr-3" (selected)="selectChange($event)" [group]="newRequest.get('person')"
                title="¿Es el asegurado el pagador?" name="isPayer" [options]="diseaseService.yesOrNoOriginal">
              </app-radio-button>
              <app-radio-button class="mr-3" *ngIf="newRequest.get('person').get('payerIsJuridical')"
                (selected)="selectChange($event)" title="¿Es el pagador una persona juridica?"
                [group]="newRequest.get('person')" name="payerIsJuridical" [options]="diseaseService.yesOrNoOriginal">
              </app-radio-button>
              <!-- <app-radio-button class="mr-3" *ngIf="newRequest.get('person').get('mandatorySubjectPayer')"
                (selected)="selectChange($event)" title="¿Es el pagador un sujeto obligado?"
                [group]="newRequest.get('person')" name="mandatorySubjectPayer"
                [options]="diseaseService.yesOrNoOriginal">
              </app-radio-button> -->
              <app-select *ngIf="newRequest.get('person').get('mandatorySubjectPayer')"
                (selected)="selectChange($event)" [group]="newRequest.get('person')" name="mandatorySubjectPayer"
                label="Actividad economica del pagador" class="mr-3"
                [options]="newRequest.get('person').get('payerIsJuridical').value == 'SI' ? juridicalObligatoryOptions : physicalObligatoryOptions">
              </app-select>
              <!-- <div class="mt-2"
                  *ngIf="newRequest.get('person').get('isJuridica') && newRequest.get('person').get('isJuridica').value == 'NO'">
                  <div class="radio-button-label" style="font-size: 12px !important; max-width: 63vw;">Adjuntar Formato
                    de los documentos: PDF (.pdf), JPG (.jpg) y PNG (.png)
                  </div>
                  <div *ngIf="newRequest.get('files') && newRequest.get('files').get('copyId')">
                    <div *ngFor="let copies of filesCopyIdArray.controls; let i = index">
                      <div class="grid grid-cols-6">
                        <app-file-input
                          [ngClass]="{'col-span-6': filesCopyIdArray.length === 1, 'col-span-5': filesCopyIdArray.length > 1}"
                          class="mr-3" [group]="newRequest.get('files').get('copyId').get(i.toString())" name="idId"
                          label="Copia de Cédula" [fileNameWatcher]="arrayCopyIdWatcher(i)"
                          (onFileChange)="onStudiesChange2($event, i, 'copyId')">
                        </app-file-input>
                        <div *ngIf="filesCopyIdArray.length > 1"
                          [ngClass]="{'': filesCopyIdArray.length === 1, 'col-span-1': filesCopyIdArray.length > 1} ">
                          <button mat-mini-fab aria-label=" Eliminar estudio"
                            (click)="diseaseService.removeToList(i, filesCopyIdArray)" type="button"
                            class="dashboard-toolbar-buttons" style="border: 1px rgb(197, 197, 197) solid">
                            <mat-icon style="color: #18446B">remove</mat-icon>
                          </button>
                        </div>
                      </div>
                    </div>
                  </div>
                  <div class="">
                    <button mat-mini-fab aria-label="Agregar estudio"
                      (click)="addToList(filesCopyIdArray, 'filesCopyId')" type="button"
                      class="dashboard-toolbar-buttons" style="border: 1px rgb(197, 197, 197) solid">
                      <mat-icon style="color: #18446B">add</mat-icon>
                    </button>
                  </div>
                </div> -->


              <!-- <div>
                <div
                  *ngIf="newRequest.get('person').get('isJuridica') && newRequest.get('person').get('isJuridica').value == 'SI'"
                  class="mt-4 lg:mt-3 xl:mt-3">
                  <div>
                    <label class="radio-button-label"> ¿Es un sujeto obligado? </label>
                  </div>
                  <div *ngIf="newRequest.get('person').get('mandatorySubject')" class="mr-3">
                    <app-radio-button [group]="newRequest.get('person')" [options]="yesOrNo" name='mandatorySubject'
                      (selected)="selectChange($event)">
                    </app-radio-button>
                  </div>

                  <div
                    *ngIf="newRequest.get('person').get('mandatorySubject') && (newRequest.get('person').get('mandatorySubject').value == 'SI' || newRequest.get('person').get('mandatorySubject').value == 'NO')">
                    <div class="radio-button-label" style="font-size: 12px !important; max-width: 63vw;">Adjuntar
                      documentos
                    </div>
                    <div *ngIf="newRequest.get('files') && newRequest.get('files').get('mercantile')">
                      <div *ngFor="let registers of mercantileRegisterArray.controls; let i = index">
                        <div class="grid grid-cols-6">
                          <app-file-input
                            [ngClass]="{'col-span-6': mercantileRegisterArray.length === 1, 'col-span-5': mercantileRegisterArray.length > 1}"
                            class="mr-3" [group]="newRequest.get('files').get('mercantile').get(i.toString())"
                            name="register" label="Registro Mercantil" [fileNameWatcher]="arrayRegisterWatcher(i)"
                            (onFileChange)="onStudiesChange2($event, i, 'mercantile')">
                          </app-file-input>
                          <div *ngIf="mercantileRegisterArray.length > 1"
                            [ngClass]="{'': mercantileRegisterArray.length === 1, 'col-span-1': mercantileRegisterArray.length > 1} ">
                            <button mat-mini-fab aria-label=" Eliminar estudio"
                              (click)="diseaseService.removeToList(i, mercantileRegisterArray)" type="button"
                              class="dashboard-toolbar-buttons" style="border: 1px rgb(197, 197, 197) solid">
                              <mat-icon style="color: #18446B">remove</mat-icon>
                            </button>
                          </div>
                        </div>
                      </div>
                    </div>
                    <div class="">
                      <button mat-mini-fab aria-label="Agregar estudio"
                        (click)="addToList(mercantileRegisterArray, 'mercantileRegister')" type="button"
                        class="dashboard-toolbar-buttons" style="border: 1px rgb(197, 197, 197) solid">
                        <mat-icon style="color: #18446B">add</mat-icon>
                      </button>
                    </div>
                  </div>

                </div>
              </div> -->
            </div>

            <mat-divider class="divider"></mat-divider>

            <div class="mt-3 grid grid-cols-1 sm:grid-cols-3 md:grid-cols-2 lg:grid-cols-4 xl:grid-cols-4">
              <app-input class="mr-3" [group]="newRequest.get('person').get('office')" label="Empresa donde labora"
                name='company'></app-input>
              <app-input class="mr-3" [group]="newRequest.get('person').get('office')" label="Ocupación/Cargo"
                name='position'></app-input>
              <app-input class="mr-3" [group]="newRequest.get('person').get('office')" label="Dirección"
                name='direction'>
              </app-input>
              <app-input class="mr-3" [group]="newRequest.get('person').get('office')"
                label="Actividad Económica de la Empresa" name='economicActivity'></app-input>
              <app-input class="mr-3" [group]="newRequest.get('person').get('office')" label="Sector" name='sector'>
              </app-input>
              <app-input class="mr-3" [group]="newRequest.get('person').get('office')" label="Ciudad" name='city'>
              </app-input>
              <app-select class="mr-3" [options]="country" [group]="newRequest.get('person').get('office')">
              </app-select>
            </div>

            <mat-action-row class="action-row">
              <button mat-button class="next-button" (click)="nextStep()" type="button">
                Siguiente
              </button>
            </mat-action-row>
          </mat-expansion-panel>

          <mat-expansion-panel *ngIf="newRequest.get('exposedPerson')" class="ww-mat-expansion" [expanded]="step === 1"
            (opened)="setStep(1)">
            <mat-expansion-panel-header class="body-13 icon-blue">
              <mat-panel-title>
                Persona políticamente expuesta
              </mat-panel-title>
              <mat-panel-description>
                <div></div>
                <div *ngIf="showWarningDot(newRequest.get('exposedPerson'))" class="warning-accordion-dot"></div>
              </mat-panel-description>
            </mat-expansion-panel-header>

            <div class="colorb">
              <p>Las Personas Políticamente Expuestas son aquéllas que desempeñan o han desempeñado funciones
                públicas
                destacadas en un país extranjero o en su propio país, ej. Jefes de Estado o de gobierno, políticos
                de
                alta jerarquía, funcionarios gubernamentales, judiciales o militares de alta jerarquía, altos
                ejecutivos
                de empresas estatales, funcionarios importantes de partidos políticos, entre otros. La designación
                de
                PEP incluye a su cónyuge y familiares hasta el segundo grado de consanguinidad y segundo de
                afinidad.
              </p>
            </div>

            <hr class=" w-full mb-6 ww-divider">
            <div
              class="w-full xl:flex xl:justify-between lg:flex lg:justify-between md:flex md:justify-between sm:flex sm:justify-between">
              <div class="radio-button-label">Titular</div>
              <app-radio-button [group]="newRequest.get('exposedPerson')" name="headLine"
                (selected)="selectChange($event)" [options]="diseaseService.yesOrNoOriginal">
              </app-radio-button>
            </div>
            <div *ngIf="newRequest.get('exposedPerson').get('headLineExposedInfo')">
              <div class='grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-4'>
                <app-input class="mr-3" [group]="newRequest.get('exposedPerson').get('headLineExposedInfo')"
                  label="Cargo actual o anterior" name='lastPosition'></app-input>
                <div class="grid grid-cols-2">
                  <app-number-input class="mr-3" [group]="newRequest.get('exposedPerson').get('headLineExposedInfo')"
                    label="Tiempo" name='timeNumber' min="1">
                  </app-number-input>
                  <app-select class="mr-3" [options]="year"
                    [group]="newRequest.get('exposedPerson').get('headLineExposedInfo')"></app-select>
                </div>
              </div>
            </div>
            <div>
              <hr *ngIf="newRequest.get('exposedPerson').get('contractor') " class=" w-full mb-6 ww-divider">
            </div>
            <div
              class="w-full xl:flex xl:justify-between lg:flex lg:justify-between md:flex md:justify-between sm:flex sm:justify-between"
              *ngIf="newRequest.get('exposedPerson').get('contractor') ">
              <div class="radio-button-label">Contratante</div>
              <app-radio-button [group]="newRequest.get('exposedPerson')" name="contractor"
                (selected)="selectChange($event)" [options]="diseaseService.yesOrNoOriginal">
              </app-radio-button>
            </div>
            <div *ngIf="newRequest.get('exposedPerson').get('contractorExposedInfo')">
              <div class='grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-4'>
                <app-input class="mr-3" [group]="newRequest.get('exposedPerson').get('contractorExposedInfo')"
                  label="Cargo actual o anterior" name='lastPosition'></app-input>
                <div class="grid grid-cols-2">
                  <app-number-input class="mr-3" [group]="newRequest.get('exposedPerson').get('contractorExposedInfo')"
                    label="Tiempo" name='timeNumber' min="1">
                  </app-number-input>
                  <app-select class="mr-3" [options]="year"
                    [group]="newRequest.get('exposedPerson').get('contractorExposedInfo')"></app-select>
                </div>
              </div>
            </div>
            <div>
              <hr *ngIf="newRequest.get('exposedPerson').get('payer') " class=" w-full mb-6 ww-divider">
            </div>
            <div
              class="w-full xl:flex xl:justify-between lg:flex lg:justify-between md:flex md:justify-between sm:flex sm:justify-between"
              *ngIf="newRequest.get('exposedPerson').get('payer') ">
              <div class="radio-button-label">Pagador</div>
              <app-radio-button [group]="newRequest.get('exposedPerson')" name="payer" (selected)="selectChange($event)"
                [options]="diseaseService.yesOrNoOriginal">
              </app-radio-button>
            </div>
            <div *ngIf="newRequest.get('exposedPerson').get('payerExposedInfo')">
              <div class='grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-4'>
                <app-input class="mr-3" [group]="newRequest.get('exposedPerson').get('payerExposedInfo')"
                  label="Cargo actual o anterior" name='lastPosition'></app-input>
                <div class="grid grid-cols-2">
                  <app-number-input class="mr-3" [group]="newRequest.get('exposedPerson').get('payerExposedInfo')"
                    label="Tiempo" name='timeNumber' min="1">
                  </app-number-input>
                  <app-select class="mr-3" [options]="year"
                    [group]="newRequest.get('exposedPerson').get('payerExposedInfo')"></app-select>
                </div>
              </div>
            </div>
            <hr class="w-full ww-divider mb-2">
            <div *ngIf="newRequest.get('exposedPerson').get('incomesCertified')" class="radio-button-label">Adjunte
              la certificación de ingresos del pagador</div>
            <div class="grid grid-cols-2 sm:grid-cols-4 md:grid-cols-4 lg:grid-cols-4 xl:grid-cols-4">
              <app-file-input *ngIf="newRequest.get('exposedPerson').get('incomesCertified')" class="mr-3"
                [group]="newRequest.get('exposedPerson')" name="incomesCertified" label="Certificación de ingresos"
                [fileNameWatcher]="" onFileChange="">
              </app-file-input>
            </div>
            <mat-action-row class="action-row">
              <button mat-button class="next-button" (click)="nextStep()" type="button">
                Siguiente
              </button>
            </mat-action-row>
          </mat-expansion-panel>
          <!--*ngIf="isContractor && !isJuridica"  -->
          <mat-expansion-panel *ngIf="this.newRequest.get('contractor')" class="ww-mat-expansion"
            [expanded]="step === 2" (opened)="setStep(2)">
            <mat-expansion-panel-header class="body-13 icon-blue">
              <mat-panel-title>
                Contratante
              </mat-panel-title>
              <mat-panel-description>
                <div></div>
                <div *ngIf="showWarningDot(newRequest.get('contractor'))" class="warning-accordion-dot"></div>
              </mat-panel-description>
            </mat-expansion-panel-header>

            <div class="mt-3 grid grid-cols-1 sm:grid-cols-3 md:grid-cols-2 lg:grid-cols-4 xl:grid-cols-4">
              <app-input class="mr-3" [group]="newRequest.get('contractor')" label="Primer Nombre" name='firstName'>
              </app-input>
              <app-input class="mr-3" [group]="newRequest.get('contractor')" label="Segundo Nombre" name='secondName'>
              </app-input>
              <app-input class="mr-3" [group]="newRequest.get('contractor')" label="Apellidos" name='lastName'>
              </app-input>
              <app-date-picker class="mr-3" [group]="newRequest.get('contractor')" label="Fecha de Nacimiento"
                [max]="todayDate" name='date'>
              </app-date-picker>
              <app-radio-button class="mr-3" [group]="newRequest.get('contractor')" name="sex" [options]="sex">
              </app-radio-button>
              <!-- <app-input class="mr-3" [group]="newRequest.get('person')" label="Nacionalidad" name='nationality'>
              </app-input> -->
              <app-select class="mr-3" [options]="nationality" [group]="newRequest.get('contractor')"></app-select>
              <app-select class="mr-3" [options]="idType" [group]="newRequest.get('contractor')"></app-select>
              <app-input class="mr-3" [group]="newRequest.get('contractor')" label="Documento de identidad" name='id2'>
              </app-input>
              <app-file-input class="mr-3" [group]="newRequest.get('contractor')" name="id2Attached"
                label="Copia de cedula" [fileNameWatcher]=""
                (onFileChange)="onStudiesChange2($event, null, 'contractor')">
              </app-file-input>
              <app-input class="mr-3" [group]="newRequest.get('contractor')" label="Edad" name='age'></app-input>
              <!-- <div class="grid grid-cols-3 sm:grid-cols-3 md:grid-cols-3 lg:grid-cols-3 xl:grid-cols-3">
                <app-input class="mr-1" [group]="newRequest.get('contractor')" label="Peso / Kg" name='weight'>
                </app-input>
                <app-input class="mr-1" [group]="newRequest.get('contractor')" label="Altura / Cm" name='height'>
                </app-input>
                <app-input disabled="true" class="mr-3" [group]="newRequest.get('contractor')" label="BMI" name='bmi'>
                </app-input>
              </div> -->
              <app-select class="mr-3" (selected)="onWeightUnitChange(newRequest.get('contractor'))"
                [options]="weightUnit" [group]="newRequest.get('contractor')">
              </app-select>
              <app-number-input (keyup)="getBmiUpdated(newRequest.get('contractor'))" class="mr-3"
                [group]="newRequest.get('contractor')" label="Peso" name='weight'>
              </app-number-input>
              <app-select class="mr-3" [options]="heightUnit"
                (selected)="onHeightUnitChange($event, newRequest.get('contractor'))"
                [group]="newRequest.get('contractor')">
              </app-select>
              <div *ngIf="this.newRequest.get('contractor').get('heightUnit').value === 'PIE'" class="mr-3"
                class="grid grid-cols-2">
                <app-number-input (keyup)="getBmiUpdated(newRequest.get('contractor'))" class="mr-2"
                  [group]="newRequest.get('contractor')" label="Pie" name='height'>
                </app-number-input>
                <app-number-input (keyup)="getBmiUpdated(newRequest.get('contractor'))" class="mr-2"
                  [group]="newRequest.get('contractor')" name='inches' max="12" label="Pulgadas">
                </app-number-input>
              </div>
              <app-number-input (keyup)="getBmiUpdated(newRequest.get('contractor'))"
                *ngIf="this.newRequest.get('contractor').get('heightUnit').value !== 'PIE'" class="mr-3"
                [group]="newRequest.get('contractor')" label="Altura" name='height'>
              </app-number-input>
              <!-- <app-input class="mr-3" [group]="newRequest.get('contractor')" label="BMI" name='bmi'>
                </app-input> -->
              <app-select class="mr-3" [options]="status" [group]="newRequest.get('contractor')"></app-select>
              <app-select class="mr-3" [options]="country" [group]="newRequest.get('contractor')"></app-select>
              <app-input class="mr-3" [group]="newRequest.get('contractor')" label="Ciudad/Provincia" name='city'>
              </app-input>
              <app-input class="mr-3" [group]="newRequest.get('contractor')" label="Dirección de Residencia"
                name='direction'>
              </app-input>
              <app-number-input isPhone="true" class="mr-3" [group]="newRequest.get('contractor')"
                label="Tel. Residencia" name='tel'>
              </app-number-input>
              <app-number-input *ngIf="role == 'WMA'" isCell="true" class="mr-3" [group]="newRequest.get('contractor')"
                label="Tel. Celular" name='cel'>
              </app-number-input>
              <app-number-input *ngIf="role == 'WWS'" isPhone="true" class="mr-3" [group]="newRequest.get('contractor')"
                label="Tel. Celular" name='cel'>
              </app-number-input>
              <app-number-input isPhone="true" class="mr-3" [group]="newRequest.get('contractor')" label="Tel. Oficina"
                name='officeTel'>
              </app-number-input>
              <app-number-input class="mr-3" [group]="newRequest.get('contractor')" label="Fax" name='fax'
                isPhone="true"></app-number-input>
              <app-input class="mr-3" [group]="newRequest.get('contractor')" label="Correo" name='email'>
              </app-input>

            </div>

            <mat-divider class="divider"></mat-divider>

            <div class="mt-3 grid grid-cols-1 sm:grid-cols-3 md:grid-cols-2 lg:grid-cols-4 xl:grid-cols-4">
              <app-input class="mr-3" [group]="newRequest.get('contractor').get('office')" label="Empresa donde labora"
                name='company'></app-input>
              <app-input class="mr-3" [group]="newRequest.get('contractor').get('office')" label="Ocupación/Cargo"
                name='position'></app-input>
              <app-input class="mr-3" [group]="newRequest.get('contractor').get('office')" label="Dirección"
                name='direction'>
              </app-input>
              <app-input class="mr-3" [group]="newRequest.get('contractor').get('office')"
                label="Actividad Económica de la Empresa" name='economicActivity'></app-input>
              <app-input class="mr-3" [group]="newRequest.get('contractor').get('office')" label="Sector" name='sector'>
              </app-input>
              <app-input class="mr-3" [group]="newRequest.get('contractor').get('office')" label="Ciudad" name='city'>
              </app-input>
              <app-select class="mr-3" [options]="country" [group]="newRequest.get('contractor').get('office')">
              </app-select>
            </div>

            <mat-action-row class="action-row">
              <button mat-button class="next-button" (click)="nextStep()" type="button">
                Siguiente
              </button>
            </mat-action-row>
          </mat-expansion-panel>

          <mat-expansion-panel *ngIf="this.newRequest.get('payer')" class="ww-mat-expansion" [expanded]="step === 3"
            (opened)="setStep(3)">
            <mat-expansion-panel-header class="body-13 icon-blue">
              <mat-panel-title>
                Pagador
              </mat-panel-title>
              <mat-panel-description>
                <div></div>
                <div *ngIf="showWarningDot(newRequest.get('payer'))" class="warning-accordion-dot"></div>
              </mat-panel-description>
            </mat-expansion-panel-header>

            <div class="mt-3 grid grid-cols-1 sm:grid-cols-3 md:grid-cols-2 lg:grid-cols-4 xl:grid-cols-4">
              <app-input class="mr-3" [group]="newRequest.get('payer')" label="Primer Nombre" name='firstName'>
              </app-input>
              <app-input class="mr-3" [group]="newRequest.get('payer')" label="Segundo Nombre" name='secondName'>
              </app-input>
              <app-input class="mr-3" [group]="newRequest.get('payer')" label="Apellidos" name='lastName'>
              </app-input>
              <app-date-picker class="mr-3" [group]="newRequest.get('payer')" label="Fecha de Nacimiento"
                [max]="todayDate" name='date'>
              </app-date-picker>
              <app-radio-button class="mr-3" [group]="newRequest.get('payer')" name="sex" [options]="sex">
              </app-radio-button>
              <!-- <app-input class="mr-3" [group]="newRequest.get('person')" label="Nacionalidad" name='nationality'>
              </app-input> -->
              <app-select class="mr-3" [options]="nationality" [group]="newRequest.get('payer')"></app-select>
              <app-select class="mr-3" [options]="idType" [group]="newRequest.get('payer')"></app-select>
              <app-input class="mr-3" [group]="newRequest.get('payer')" label="Documento de identidad" name='id2'>
              </app-input>
              <app-file-input class="mr-3" [group]="newRequest.get('payer')" name="id2Attached" label="Copia de cedula"
                [fileNameWatcher]="" (onFileChange)="onStudiesChange2($event, null, 'payer')">
              </app-file-input>
              <app-input class="mr-3" [group]="newRequest.get('payer')" label="Edad" name='age'></app-input>
              <!-- <div class="grid grid-cols-3 sm:grid-cols-3 md:grid-cols-3 lg:grid-cols-3 xl:grid-cols-3">
                <app-input class="mr-1" [group]="newRequest.get('payer')" label="Peso / Kg" name='weight'>
                </app-input>
                <app-input class="mr-1" [group]="newRequest.get('payer')" label="Altura / Cm" name='height'>
                </app-input>
                <app-input disabled="true" class="mr-3" [group]="newRequest.get('payer')" label="BMI" name='bmi'>
                </app-input>
              </div> -->
              <app-select class="mr-3" (selected)="onWeightUnitChange(newRequest.get('payer'))" [options]="weightUnit"
                [group]="newRequest.get('payer')">
              </app-select>
              <app-number-input (keyup)="getBmiUpdated(newRequest.get('payer'))" class="mr-3"
                [group]="newRequest.get('payer')" label="Peso" name='weight'>
              </app-number-input>
              <app-select class="mr-3" [options]="heightUnit"
                (selected)="onHeightUnitChange($event, newRequest.get('payer'))" [group]="newRequest.get('payer')">
              </app-select>
              <div *ngIf="this.newRequest.get('payer').get('heightUnit').value === 'PIE'" class="mr-3"
                class="grid grid-cols-2">
                <app-number-input (keyup)="getBmiUpdated(newRequest.get('payer'))" class="mr-2"
                  [group]="newRequest.get('payer')" label="Pie" name='height'>
                </app-number-input>
                <app-number-input (keyup)="getBmiUpdated(newRequest.get('payer'))" class="mr-2"
                  [group]="newRequest.get('payer')" name='inches' max="12" label="Pulgadas">
                </app-number-input>
              </div>
              <app-number-input (keyup)="getBmiUpdated(newRequest.get('payer'))"
                *ngIf="this.newRequest.get('payer').get('heightUnit').value !== 'PIE'" class="mr-3"
                [group]="newRequest.get('payer')" label="Altura" name='height'>
              </app-number-input>
              <!-- <app-input class="mr-3" [group]="newRequest.get('payer')" label="BMI" name='bmi'>
                </app-input> -->
              <app-select class="mr-3" [options]="status" [group]="newRequest.get('payer')"></app-select>
              <app-select class="mr-3" [options]="country" [group]="newRequest.get('payer')"></app-select>
              <app-input class="mr-3" [group]="newRequest.get('payer')" label="Ciudad/Provincia" name='city'>
              </app-input>
              <app-input class="mr-3" [group]="newRequest.get('payer')" label="Dirección de Residencia"
                name='direction'>
              </app-input>
              <app-number-input isPhone="true" class="mr-3" [group]="newRequest.get('payer')" label="Tel. Residencia"
                name='tel'>
              </app-number-input>
              <app-number-input *ngIf="role == 'WMA'" isCell="true" class="mr-3" [group]="newRequest.get('payer')"
                label="Tel. Celular" name='cel'>
              </app-number-input>
              <app-number-input *ngIf="role == 'WWS'" isPhone="true" class="mr-3" [group]="newRequest.get('payer')"
                label="Tel. Celular" name='cel'>
              </app-number-input>
              <app-number-input isPhone="true" class="mr-3" [group]="newRequest.get('payer')" label="Tel. Oficina"
                name='officeTel'>
              </app-number-input>
              <app-number-input class="mr-3" [group]="newRequest.get('payer')" label="Fax" name='fax' isPhone="true">
              </app-number-input>
              <app-input class="mr-3" [group]="newRequest.get('payer')" label="Correo" name='email'>
              </app-input>

            </div>

            <mat-divider class="divider"></mat-divider>

            <div class="mt-3 grid grid-cols-1 sm:grid-cols-3 md:grid-cols-2 lg:grid-cols-4 xl:grid-cols-4">
              <app-input class="mr-3" [group]="newRequest.get('payer').get('office')" label="Empresa donde labora"
                name='company'></app-input>
              <app-input class="mr-3" [group]="newRequest.get('payer').get('office')" label="Ocupación/Cargo"
                name='position'></app-input>
              <app-input class="mr-3" [group]="newRequest.get('payer').get('office')" label="Dirección"
                name='direction'>
              </app-input>
              <app-input class="mr-3" [group]="newRequest.get('payer').get('office')"
                label="Actividad Económica de la Empresa" name='economicActivity'></app-input>
              <app-input class="mr-3" [group]="newRequest.get('payer').get('office')" label="Sector" name='sector'>
              </app-input>
              <app-input class="mr-3" [group]="newRequest.get('payer').get('office')" label="Ciudad" name='city'>
              </app-input>
              <app-select class="mr-3" [options]="country" [group]="newRequest.get('payer').get('office')">
              </app-select>
            </div>

            <mat-action-row class="action-row">
              <button mat-button class="next-button" (click)="nextStep()" type="button">
                Siguiente
              </button>
            </mat-action-row>
          </mat-expansion-panel>

          <!-- <mat-expansion-panel [expanded]="step === 2" (opened)="setStep(2)"
            *ngIf="newRequest.get('contractorJuridical')" class="ww-mat-expansion">
            <mat-expansion-panel-header class="body-13 icon-blue">
              <mat-panel-title>
                Contratante
              </mat-panel-title>
              <mat-panel-description>
                <div></div>
                <div *ngIf="showWarningDot(newRequest.get('contractorJuridical'))" class="warning-accordion-dot"></div>
              </mat-panel-description>
            </mat-expansion-panel-header>
            <div class="ml-3 grid grid-cols-1 sm:grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4">
              <app-input class="mr-3" [group]="newRequest.get('contractorJuridical')" label="Razón Social"
                name="businessName"></app-input>
              <app-number-input class="mr-3" [group]="newRequest.get('contractorJuridical')" label="RNC / RUC"
                name="rnc"></app-number-input>
              <app-select [options]="family" class="mr-3" [group]="newRequest.get('contractorJuridical')"
                label="Parentesco con el asegurado" name="family"></app-select>
              <app-input class="mr-3" [group]="newRequest.get('contractorJuridical')" label="Propósito del Seguro"
                name="purpose"></app-input>
              <app-select [options]="countryTaxing" class="mr-3" [group]="newRequest.get('contractorJuridical')"
                name="taxCountry"></app-select>
            </div>
            <mat-action-row class="action-row">
              <button mat-button class="next-button" (click)="nextStep()" type="button">
                Siguiente
              </button>
            </mat-action-row>
          </mat-expansion-panel> -->

          <mat-expansion-panel [expanded]="step === 3" (opened)="setStep(3)" *ngIf="newRequest.get('payerJuridical')"
            class="ww-mat-expansion">
            <mat-expansion-panel-header class="body-13 icon-blue">
              <mat-panel-title>
                Pagador
              </mat-panel-title>
              <mat-panel-description>
                <div></div>
                <div *ngIf="showWarningDot(newRequest.get('payerJuridical'))" class="warning-accordion-dot"></div>
              </mat-panel-description>
            </mat-expansion-panel-header>
            <div class="ml-3 grid grid-cols-1 sm:grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4">
              <app-input class="mr-3" [group]="newRequest.get('payerJuridical')" label="Razón Social"
                name="businessName"></app-input>
              <app-number-input class="mr-3" [group]="newRequest.get('payerJuridical')" label="RNC / RUC" name="rnc">
              </app-number-input>
              <app-select [options]="family" class="mr-3" [group]="newRequest.get('payerJuridical')"
                label="Parentesco con el asegurado" name="family"></app-select>
              <app-input class="mr-3" [group]="newRequest.get('payerJuridical')" label="Propósito del Seguro"
                name="purpose"></app-input>
              <app-select [options]="countryTaxing" class="mr-3" [group]="newRequest.get('payerJuridical')"
                name="taxCountry"></app-select>
            </div>
            <mat-action-row class="action-row">
              <button mat-button class="next-button" (click)="nextStep()" type="button">
                Siguiente
              </button>
            </mat-action-row>
          </mat-expansion-panel>


          <mat-expansion-panel class="ww-mat-expansion" [expanded]="step === 3" (opened)="setStep(3)">
            <mat-expansion-panel-header class="body-13 icon-blue">
              <mat-panel-title>
                Perfil Financiero
              </mat-panel-title>
              <mat-panel-description>
                <div></div>
                <div *ngIf="showWarningDot(newRequest.get('incomes'))" class="warning-accordion-dot"></div>
              </mat-panel-description>
            </mat-expansion-panel-header>

            <app-radio-button class="mr-3" [group]="newRequest.get('incomes')" name="principalIncome" [options]="mony"
              title='Ingresos anuales actividad principal'></app-radio-button>
            <app-radio-button class="mr-3" [group]="newRequest.get('incomes')" name="otherIncomes" [options]="mony"
              title='Ingresos anuales por otras actividades'></app-radio-button>

            <mat-action-row class="action-row">
              <button mat-button class="next-button" (click)="nextStep()" type="button">
                Siguiente
              </button>
            </mat-action-row>
          </mat-expansion-panel>
          <mat-expansion-panel class="ww-mat-expansion" [expanded]="step === 4" (opened)="setStep(4)"
            *ngIf="dependentsFormArray.controls.length > 0">
            <mat-expansion-panel-header class="body-13 icon-blue">
              <mat-panel-title>
                Dependientes
              </mat-panel-title>
              <mat-panel-description>
                <div></div>
                <div *ngIf="showWarningDot(newRequest.get('dependents'))" class="warning-accordion-dot"></div>
              </mat-panel-description>
            </mat-expansion-panel-header>

            <div [formGroup]="newRequest.get('dependents')">
              <div formArrayName="allDependents">
                <div *ngFor="let element of dependentsFormArray.controls; let index = index">

                  <div [formGroupName]="index"
                    class="mt-3 grid grid-cols-1 sm:grid-cols-2 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4">
                    <app-input class="mr-3"
                      [group]="newRequest.get('dependents').get('allDependents').get(index.toString())" label="Nombre"
                      name='name'></app-input>
                    <app-input class="mr-3"
                      [group]="newRequest.get('dependents').get('allDependents').get(index.toString())"
                      label="Apellidos" name='lastName'></app-input>
                    <app-select class="mr-3" [options]="idType"
                      [group]="newRequest.get('dependents').get('allDependents').get(index.toString())"></app-select>
                    <app-input class="mr-3"
                      [group]="newRequest.get('dependents').get('allDependents').get(index.toString())"
                      label="Cedula o documento de identidad" name='id2'></app-input>

                    <app-select class="mr-3" [options]="nationality"
                      [group]="newRequest.get('dependents').get('allDependents').get(index.toString())">
                    </app-select>
                    <app-date-picker class="mr-3"
                      [group]="newRequest.get('dependents').get('allDependents').get(index.toString())"
                      label="Fecha de Nacimiento" name='date' [max]="todayDate">
                    </app-date-picker>

                    <app-radio-button class="mr-3" (selected)="thereIsAWomenOnTheRequest()"
                      (selected)="thereIsAMenOnTheRequest()"
                      [group]="newRequest.get('dependents').get('allDependents').get(index.toString())" name="sex"
                      [options]="sex"></app-radio-button>
                    <app-select class="mr-3 col-span-2"
                      [group]="newRequest.get('dependents').get('allDependents').get(index.toString())" name="family"
                      [options]="family"></app-select>
                    <div
                      class="mr-3 grid col-span-4 grid-cols-1 sm:grid-cols-1 md:grid-cols-3 lg:grid-cols-6 xl:grid-cols-6">
                      <app-number-input class="mr-3"
                        [group]="newRequest.get('dependents').get('allDependents').get(index.toString())" label="Edad"
                        name='age' min="1">
                      </app-number-input>
                      <app-select class="mr-3"
                        (selected)="onWeightUnitChange(newRequest.get('dependents').get('allDependents').get(index.toString()))"
                        [options]="weightUnit"
                        [group]="newRequest.get('dependents').get('allDependents').get(index.toString())">
                      </app-select>
                      <app-number-input
                        (keyup)="getBmiUpdated(newRequest.get('dependents').get('allDependents').get(index.toString()))"
                        class="mr-3" [group]="newRequest.get('dependents').get('allDependents').get(index.toString())"
                        label="Peso" name='weight'>
                      </app-number-input>
                      <app-select class="mr-3" [options]="heightUnit"
                        (selected)="onHeightUnitChange($event, newRequest.get('dependents').get('allDependents').get(index.toString()))"
                        [group]="newRequest.get('dependents').get('allDependents').get(index.toString())">
                      </app-select>
                      <div
                        *ngIf="this.newRequest.get('dependents').get('allDependents').get(index.toString()).get('heightUnit').value === 'PIE'"
                        class="mr-3" class="grid grid-cols-2">
                        <app-number-input
                          (keyup)="getBmiUpdated(newRequest.get('dependents').get('allDependents').get(index.toString()))"
                          class="mr-2" [group]="newRequest.get('dependents').get('allDependents').get(index.toString())"
                          label="Pie" name='height'>
                        </app-number-input>
                        <app-number-input
                          (keyup)="getBmiUpdated(newRequest.get('dependents').get('allDependents').get(index.toString()))"
                          class="mr-2" [group]="newRequest.get('dependents').get('allDependents').get(index.toString())"
                          name='inches' max=12 label="Pulgadas">
                        </app-number-input>
                      </div>
                      <app-number-input
                        (keyup)="getBmiUpdated(newRequest.get('dependents').get('allDependents').get(index.toString()))"
                        *ngIf="this.newRequest.get('dependents').get('allDependents').get(index.toString()).get('heightUnit').value !== 'PIE'"
                        class="mr-3" [group]="newRequest.get('dependents').get('allDependents').get(index.toString())"
                        label="Altura" name='height'>
                      </app-number-input>
                      <!-- <app-input [group]="newRequest.get('dependents').get('allDependents').get(index.toString())"
                        label="BMI" name='bmi'>
                      </app-input> -->
                    </div>

                    <!-- <app-input class="mr-3"
                      [group]="newRequest.get('dependents').get('allDependents').get(index.toString())"
                      label="Nacionalidad" name='nationality'></app-input> -->


                    <br>
                  </div>
                  <div>
                    <!--     <button mat-mini-fab aria-label="Agregar reclamacion"
                      (click)="add(dependentsFormArray,dependentFormGroup)" type="button"
                      class="dashboard-toolbar-buttons" style="border: 1px rgb(197, 197, 197) solid">
                      <mat-icon style="color: #18446B">add</mat-icon>
                    </button>
                    <button mat-mini-fab aria-label="Eliminar reclamacion"
                      (click)="formMethods.deleteOneElement(dependentsFormArray, index)" type="button"
                      class="dashboard-toolbar-buttons" style="border: 1px rgb(197, 197, 197) solid">
                      <mat-icon style="color: #18446B">remove</mat-icon>
                    </button> -->
                  </div>

                </div>
                <!-- <div *ngIf="dependentsFormArray.controls.length === 0">
                  <p class='formulary-labels'>Para agregar un dependiente pulse el siguiente boton</p><br>
                </div>
                <div *ngIf="dependentsFormArray.controls.length === 0">
                  <button mat-mini-fab aria-label="Agregar reclamacion"
                    (click)="add(dependentsFormArray,dependentFormGroup)" type="button"
                    class="dashboard-toolbar-buttons" style="border: 1px rgb(197, 197, 197) solid">
                    <mat-icon style="color: #18446B">add</mat-icon>
                  </button>
                </div>-->
              </div>

              <div formArrayName="students" class="pt-20" *ngIf="dependentsFormArray.controls.length > 0">
                <div>
                  <p class='formulary-labels'>¿Los hijos de 19 a 24 años son estudiantes a tiempo completo?</p>
                  <br><br>
                  <p class='formulary-labels'>Si su respuesta es afirmativa, mencione el nombre y el número de
                    teléfono
                    de la Universidad:</p><br>
                </div>

                <div *ngFor="let control of studentDependents.controls; let i = index">
                  <div class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-4 lg:grid-cols-4 xl:grid-cols-4">
                    <app-input class="mr-3" [group]="newRequest.get('dependents').get('students').get(i.toString())"
                      label="Nombre" name='name'></app-input>
                    <app-input class="mr-3" [group]="newRequest.get('dependents').get('students').get(i.toString())"
                      label="Universidad" name='univercity'></app-input>
                    <app-number-input isPhone="true" class="mr-3"
                      [group]="newRequest.get('dependents').get('students').get(i.toString())"
                      label="Telefono de la Universidad" name='univercityPhone'></app-number-input>
                    <div>
                      <button mat-mini-fab aria-label="Agregar reclamacion" (click)="add(studentDependents,student)"
                        type="button" class="dashboard-toolbar-buttons" style="border: 1px rgb(197, 197, 197) solid">
                        <mat-icon style="color: #18446B">add</mat-icon>
                      </button>
                      <button mat-mini-fab aria-label="Eliminar reclamacion"
                        (click)="formMethods.deleteOneElement(studentDependents, i)" type="button"
                        class="dashboard-toolbar-buttons" style="border: 1px rgb(197, 197, 197) solid">
                        <mat-icon style="color: #18446B">remove</mat-icon>
                      </button>

                    </div>
                  </div>
                </div>
                <div *ngIf=' studentDependents.controls.length === 0'>
                  <button mat-mini-fab aria-label="Agregar reclamacion" (click)="add(studentDependents,student)"
                    type="button" class="dashboard-toolbar-buttons" style="border: 1px rgb(197, 197, 197) solid">
                    <mat-icon style="color: #18446B">add</mat-icon>
                  </button>
                </div>
              </div>
            </div>


            <mat-action-row class="action-row">
              <button mat-button class="next-button" (click)="nextStep()" type="button">
                Siguiente
              </button>
            </mat-action-row>
          </mat-expansion-panel>
          <mat-expansion-panel class="ww-mat-expansion" [expanded]="step === 5" (opened)="setStep(5)">
            <mat-expansion-panel-header class="body-13 icon-blue">
              <mat-panel-title>
                Sección A
              </mat-panel-title>
              <mat-panel-description>
                <div></div>
                <div *ngIf="showWarningDot(newRequest.get('sectionAHelper'))" class="warning-accordion-dot"></div>
              </mat-panel-description>
            </mat-expansion-panel-header>

            <div>
              <!-- <p class="formulary-labels pb-3">Según su mejor entendimiento y conocimiento, hay alguna
                    persona nombrada en esta solicitud que haya padecido o padezca de alguna de las siguientes enfermedades:</p>
                  <hr class="w-full mb-10 ww-divider">

                  <div *ngFor="let que of questions; let idx = index">
                    <div
                      class="w-full xl:flex xl:justify-between lg:flex lg:justify-between md:flex md:justify-between sm:flex sm:justify-between">
                      <div class="radio-button-label" style="max-width: 80%;">{{idx+1}}. {{que.question}}</div>
                      <app-radio-button [group]="newRequest.get('questions')" [name]="que.name" [options]="yesOrNo"
                        (selected)="selectChange($event)">
                      </app-radio-button>
                    </div> -->

            </div>
            <p class="formulary-labels pb-3">Según su mejor entendimiento y conocimiento, hay alguna persona
              nombrada en
              esta solicitud que haya padecido o padezca de alguna de las siguientes enfermedades:
            </p>
            <hr class="w-full mb-10 ww-divider">
            <div *ngFor="let question of questions; let idx = index">
              <div *ngIf="canShow(question.name)"
                class="w-full xl:flex xl:justify-between lg:flex lg:justify-between md:flex md:justify-between sm:flex sm:justify-between">
                <div class="radio-button-label self-center" style="max-width: 65%;">{{idx+1}} .{{question.question}}
                </div>
                <div class="flex">
                  <div class="self-center">
                    <app-radio-button [group]="newRequest.get('sectionAHelper')" center="true" [name]="question.name"
                      [options]="yesOrNo" (selected)="selectChange($event)">
                    </app-radio-button>
                  </div>

                  <button class="select-persons flex mt-2"
                    *ngIf="newRequest.get('sectionAHelper').value[question.name] === 'SI'" [matMenuTriggerFor]="menu">
                    <div class="self-center pr-2">Seleccionar personas</div>
                    <mat-icon style="color: #18446B">arrow_drop_down
                    </mat-icon>
                  </button>

                  <mat-menu #menu="matMenu" class="dependents-select ">
                    <div [formGroup]="newRequest.get('questionsA')">
                      <mat-checkbox (click)="$event.stopPropagation()" class="mat-menu-item"
                        (change)="valueChange($event, question.name, 'solicitante')" [formControlName]="question.name"
                        role="menuitemcheckbox" *ngIf="canPersonOptionShow(question.name)">
                        {{newRequest.get('person').value.firstName}}
                        {{newRequest.get('person').value.lastName}}</mat-checkbox>
                    </div>
                    <div formGroupName="dependents">
                      <div formArrayName="allDependents" *ngFor="let dpd of allDependents.controls; index as i">
                        <div [formGroupName]="i">
                          <mat-checkbox [formControlName]="question.name" class="mat-menu-item" role="menuitemcheckbox"
                            (change)="valueChange($event, question.name, i)" (click)="$event.stopPropagation()"
                            *ngIf="canDependentOptionShow(question.name, i)">
                            D{{i+1}} - {{dpd.value.name}} {{dpd.value.lastName}}</mat-checkbox>
                        </div>
                      </div>
                    </div>
                  </mat-menu>
                </div>
              </div>
              <!-- FLUJO NUEVO MUSCULOESQUELETICO -->
              <!-- <div
                *ngIf="(newRequest.get('questionsA').value.haveMusculoskeletal === true || newRequest.get('questionsA').value.haveMusculoskeletal === 'TRUE') && question.name === 'haveMusculoskeletal' && newRequest.get('questionsA').get('musculoSkeletal')">
                <hr class=" w-full mb-6 ww-divider">
                <div class="radio-button-label mb-4" style="font-size: 12px !important;">Información del padecimiento
                  del asegurado</div>
                <div *ngFor="let studies of musculoSkeletalList.controls; let i = index"
                  class="grid grid-cols-1 sm:grid-cols-1 md:grid-cols-2 lg:grid-cols-4 xl:grid-cols-4">
                  <app-input class="mr-3"
                    [group]="newRequest.get('questionsA').get('musculoSkeletal').get(i.toString())" name="name"
                    label="Nombre del Paciente"
                    [value]="newRequest.get('person').value.firstName+' '+newRequest.get('person').value.lastName">
                  </app-input>
                  <app-select class="mr-3" [options]="musculoSkeletalAilment"
                    (selected)="ailmentSelected('musculoSkeletal', 'solicitante', this.questionnairesGastosMayores, this.newRequest.get('questionsA'))"
                    [group]="newRequest.get('questionsA').get('musculoSkeletal').get(i.toString())"></app-select>
                  <app-date-picker class="mr-3" [max]="todayDate"
                    [group]="newRequest.get('questionsA').get('musculoSkeletal').get(i.toString())" name="date"
                    label="Fecha del Padecimiento">
                  </app-date-picker>
                  <app-input class="mr-3"
                    [group]="newRequest.get('questionsA').get('musculoSkeletal').get(i.toString())" name="threatment"
                    label="Tratamiento">
                  </app-input>
                  <app-input class="mr-3"
                    [group]="newRequest.get('questionsA').get('musculoSkeletal').get(i.toString())"
                    name="medicCenterName" label="Nombre del proveedor o centro médico">
                  </app-input>
                  <app-input class="mr-3"
                    [group]="newRequest.get('questionsA').get('musculoSkeletal').get(i.toString())"
                    name="medicCenterAddress" label="Dirección del proveedor o centro médico">
                  </app-input>
                  <app-number-input class="mr-3"
                    [group]="newRequest.get('questionsA').get('musculoSkeletal').get(i.toString())"
                    label="Duración del Tratamiento" name='duration' min="1">
                  </app-number-input>
                  <div class="grid grid-cols-2">
                    <app-select class="mr-3" [options]="year"
                      [group]="newRequest.get('questionsA').get('musculoSkeletal').get(i.toString())"></app-select>
                    <div *ngIf="musculoSkeletalList.length > 1"
                      [ngClass]="{'': musculoSkeletalList.length === 1, 'col-span-1': musculoSkeletalList.length > 1} ">
                      <button mat-mini-fab aria-label=" Eliminar estudio"
                        (click)="diseaseService.removeToList(i, musculoSkeletalList)"
                        (click)="ailmentSelected('musculoSkeletal', 'solicitante', this.questionnairesGastosMayores, this.newRequest.get('questionsA'))"
                        type="button" class="dashboard-toolbar-buttons" style="border: 1px rgb(197, 197, 197) solid">
                        <mat-icon style="color: #18446B">remove</mat-icon>
                      </button>
                    </div>
                  </div>
                </div>
                <div class="mb-8">
                  <button mat-mini-fab aria-label="Agregar estudio"
                    (click)="addToList(musculoSkeletalList, 'questionsAInformation')" type="button"
                    class="dashboard-toolbar-buttons" style="border: 1px rgb(197, 197, 197) solid">
                    <mat-icon style="color: #18446B">add</mat-icon>
                  </button>
                </div>
              </div>
              <div *ngFor="let dpd of allDependents.controls; index as ixd">
                <div
                  *ngIf="(newRequest.get('dependents').get('allDependents').get(ixd.toString()).value.haveMusculoskeletal === true || newRequest.get('dependents').get('allDependents').get(ixd.toString()).value.haveMusculoskeletal === 'TRUE') && question.name === 'haveMusculoskeletal' && newRequest.get('dependents').get('allDependents').get(ixd.toString()).get('musculoSkeletal')">
                  <hr class=" w-full mb-6 ww-divider">
                  <div class="radio-button-label mb-4" style="font-size: 12px !important;">Informacion del dependiente /
                    {{dpd.value.name | titlecase}}
                    {{dpd.value.lastName | titlecase}}</div>
                  <div
                    *ngFor="let studies of newRequest.get('dependents').get('allDependents').get(ixd.toString()).get('musculoSkeletal')['controls']; let i = index"
                    class="grid grid-cols-1 sm:grid-cols-1 md:grid-cols-2 lg:grid-cols-4 xl:grid-cols-4">
                    <app-input class="mr-3"
                      [group]="newRequest.get('dependents').get('allDependents').get(ixd.toString()).get('musculoSkeletal').get(i.toString())"
                      name="name" label="Nombre del Paciente" [value]="dpd.value.name+' '+dpd.value.lastName">
                    </app-input>
                    <app-select class="mr-3" [options]="musculoSkeletalAilment"
                      (selected)="ailmentSelected('musculoSkeletal', 'solicitante', newRequest.get('dependents').get('allDependents').get(ixd.toString()), newRequest.get('dependents').get('allDependents').get(ixd.toString()))"
                      [group]="newRequest.get('dependents').get('allDependents').get(ixd.toString()).get('musculoSkeletal').get(i.toString())">
                    </app-select>
                    <app-date-picker class="mr-3" [max]="todayDate"
                      [group]="newRequest.get('dependents').get('allDependents').get(ixd.toString()).get('musculoSkeletal').get(i.toString())"
                      name="date" label="Fecha del Padecimiento">
                    </app-date-picker>
                    <app-input class="mr-3"
                      [group]="newRequest.get('dependents').get('allDependents').get(ixd.toString()).get('musculoSkeletal').get(i.toString())"
                      name="threatment" label="Tratamiento">
                    </app-input>
                    <app-input class="mr-3"
                      [group]="newRequest.get('dependents').get('allDependents').get(ixd.toString()).get('musculoSkeletal').get(i.toString())"
                      name="medicCenterName" label="Nombre del proveedor o centro médico">
                    </app-input>
                    <app-input class="mr-3"
                      [group]="newRequest.get('dependents').get('allDependents').get(ixd.toString()).get('musculoSkeletal').get(i.toString())"
                      name="medicCenterAddress" label="Dirección del proveedor o centro médico">
                    </app-input>
                    <app-number-input class="mr-3"
                      [group]="newRequest.get('dependents').get('allDependents').get(ixd.toString()).get('musculoSkeletal').get(i.toString())"
                      label="Duración del Tratamiento" name='duration' min="1">
                    </app-number-input>
                    <div class="grid grid-cols-2">
                      <app-select class="mr-3" [options]="year"
                        [group]="newRequest.get('dependents').get('allDependents').get(ixd.toString()).get('musculoSkeletal').get(i.toString())">
                      </app-select>
                      <div
                        *ngIf="newRequest.get('dependents').get('allDependents').get(ixd.toString()).get('musculoSkeletal')['controls'].length > 1"
                        [ngClass]="{'': newRequest.get('dependents').get('allDependents').get(ixd.toString()).get('musculoSkeletal')['controls'].length === 1, 'col-span-1': newRequest.get('dependents').get('allDependents').get(ixd.toString()).get('musculoSkeletal')['controls'].length > 1} ">
                        <button mat-mini-fab aria-label=" Eliminar estudio"
                          (click)="diseaseService.removeToList(i, newRequest.get('dependents').get('allDependents').get(ixd.toString()).get('musculoSkeletal'))"
                          type="button" class="dashboard-toolbar-buttons" style="border: 1px rgb(197, 197, 197) solid">
                          <mat-icon style="color: #18446B">remove</mat-icon>
                        </button>
                      </div>
                    </div>
                  </div>
                  <div class="mb-8">
                    <button mat-mini-fab aria-label="Agregar estudio"
                      (click)="addToList(newRequest.get('dependents').get('allDependents').get(ixd.toString()).get('musculoSkeletal'), 'questionsAInformation')"
                      type="button" class="dashboard-toolbar-buttons" style="border: 1px rgb(197, 197, 197) solid">
                      <mat-icon style="color: #18446B">add</mat-icon>
                    </button>
                  </div>
                </div>
              </div> -->
              <!-- FLUJO NUEVO CARDIOVASCULAR -->
              <!-- <div
                *ngIf="(newRequest.get('questionsA').value.haveCardiovascularSystem === true || newRequest.get('questionsA').value.haveCardiovascularSystem === 'TRUE') && question.name === 'haveCardiovascularSystem' && newRequest.get('questionsA').get('cardiovascularSystem')">
                <hr class=" w-full mb-6 ww-divider">
                <div class="radio-button-label mb-4" style="font-size: 12px !important;">Información del padecimiento
                  del asegurado</div>
                <div *ngFor="let studies of cardiovascularSystemList.controls; let i = index"
                  class="grid grid-cols-1 sm:grid-cols-1 md:grid-cols-2 lg:grid-cols-4 xl:grid-cols-4">
                  <app-input class="mr-3"
                    [group]="newRequest.get('questionsA').get('cardiovascularSystem').get(i.toString())" name="name"
                    label="Nombre del Paciente"
                    [value]="newRequest.get('person').value.firstName+' '+newRequest.get('person').value.lastName">
                  </app-input>
                  <app-select class="mr-3" [options]="cardiovascularSystemAilment"
                    (selected)="ailmentSelected('cardiovascularSystem', 'solicitante', this.questionnairesGastosMayores, this.newRequest.get('questionsA'))"
                    [group]="newRequest.get('questionsA').get('cardiovascularSystem').get(i.toString())"></app-select>
                  <app-date-picker class="mr-3" [max]="todayDate"
                    [group]="newRequest.get('questionsA').get('cardiovascularSystem').get(i.toString())" name="date"
                    label="Fecha del Padecimiento">
                  </app-date-picker>
                  <app-input class="mr-3"
                    [group]="newRequest.get('questionsA').get('cardiovascularSystem').get(i.toString())"
                    name="threatment" label="Tratamiento">
                  </app-input>
                  <app-input class="mr-3"
                    [group]="newRequest.get('questionsA').get('cardiovascularSystem').get(i.toString())"
                    name="medicCenterName" label="Nombre del proveedor o centro médico">
                  </app-input>
                  <app-input class="mr-3"
                    [group]="newRequest.get('questionsA').get('cardiovascularSystem').get(i.toString())"
                    name="medicCenterAddress" label="Dirección del proveedor o centro médico">
                  </app-input>
                  <app-number-input class="mr-3"
                    [group]="newRequest.get('questionsA').get('cardiovascularSystem').get(i.toString())"
                    label="Duración del Tratamiento" name='duration' min="1">
                  </app-number-input>
                  <div class="grid grid-cols-2">
                    <app-select class="mr-3" [options]="year"
                      [group]="newRequest.get('questionsA').get('cardiovascularSystem').get(i.toString())"></app-select>
                    <div *ngIf="cardiovascularSystemList.length > 1"
                      [ngClass]="{'': cardiovascularSystemList.length === 1, 'col-span-1': cardiovascularSystemList.length > 1} ">
                      <button mat-mini-fab aria-label=" Eliminar estudio"
                        (click)="diseaseService.removeToList(i, cardiovascularSystemList)"
                        (click)="ailmentSelected('cardiovascularSystem', 'solicitante', this.questionnairesGastosMayores, this.newRequest.get('questionsA'))"
                        type="button" class="dashboard-toolbar-buttons" style="border: 1px rgb(197, 197, 197) solid">
                        <mat-icon style="color: #18446B">remove</mat-icon>
                      </button>
                    </div>
                  </div>
                </div>
                <div class="mb-8">
                  <button mat-mini-fab aria-label="Agregar estudio"
                    (click)="addToList(cardiovascularSystemList, 'questionsAInformation')" type="button"
                    class="dashboard-toolbar-buttons" style="border: 1px rgb(197, 197, 197) solid">
                    <mat-icon style="color: #18446B">add</mat-icon>
                  </button>
                </div>
              </div>
              <div *ngFor="let dpd of allDependents.controls; index as ixd">
                <div
                  *ngIf="(newRequest.get('dependents').get('allDependents').get(ixd.toString()).value.haveCardiovascularSystem === true || newRequest.get('dependents').get('allDependents').get(ixd.toString()).value.haveCardiovascularSystem === 'TRUE') && question.name === 'haveCardiovascularSystem' && newRequest.get('dependents').get('allDependents').get(ixd.toString()).get('cardiovascularSystem')">
                  <hr class=" w-full mb-6 ww-divider">
                  <div class="radio-button-label mb-4" style="font-size: 12px !important;">Informacion del dependiente /
                    {{dpd.value.name | titlecase}}
                    {{dpd.value.lastName | titlecase}}</div>
                  <div
                    *ngFor="let studies of newRequest.get('dependents').get('allDependents').get(ixd.toString()).get('cardiovascularSystem')['controls']; let i = index"
                    class="grid grid-cols-1 sm:grid-cols-1 md:grid-cols-2 lg:grid-cols-4 xl:grid-cols-4">
                    <app-input class="mr-3"
                      [group]="newRequest.get('dependents').get('allDependents').get(ixd.toString()).get('cardiovascularSystem').get(i.toString())"
                      name="name" label="Nombre del Paciente" [value]="dpd.value.name+' '+dpd.value.lastName">
                    </app-input>
                    <app-select class="mr-3" [options]="cardiovascularSystemAilment"
                      (selected)="ailmentSelected('cardiovascularSystem', 'solicitante', newRequest.get('dependents').get('allDependents').get(ixd.toString()), newRequest.get('dependents').get('allDependents').get(ixd.toString()))"
                      [group]="newRequest.get('dependents').get('allDependents').get(ixd.toString()).get('cardiovascularSystem').get(i.toString())">
                    </app-select>
                    <app-date-picker class="mr-3" [max]="todayDate"
                      [group]="newRequest.get('dependents').get('allDependents').get(ixd.toString()).get('cardiovascularSystem').get(i.toString())"
                      name="date" label="Fecha del Padecimiento">
                    </app-date-picker>
                    <app-input class="mr-3"
                      [group]="newRequest.get('dependents').get('allDependents').get(ixd.toString()).get('cardiovascularSystem').get(i.toString())"
                      name="threatment" label="Tratamiento">
                    </app-input>
                    <app-input class="mr-3"
                      [group]="newRequest.get('dependents').get('allDependents').get(ixd.toString()).get('cardiovascularSystem').get(i.toString())"
                      name="medicCenterName" label="Nombre del proveedor o centro médico">
                    </app-input>
                    <app-input class="mr-3"
                      [group]="newRequest.get('dependents').get('allDependents').get(ixd.toString()).get('cardiovascularSystem').get(i.toString())"
                      name="medicCenterAddress" label="Dirección del proveedor o centro médico">
                    </app-input>
                    <app-number-input class="mr-3"
                      [group]="newRequest.get('dependents').get('allDependents').get(ixd.toString()).get('cardiovascularSystem').get(i.toString())"
                      label="Duración del Tratamiento" name='duration' min="1">
                    </app-number-input>
                    <div class="grid grid-cols-2">
                      <app-select class="mr-3" [options]="year"
                        [group]="newRequest.get('dependents').get('allDependents').get(ixd.toString()).get('cardiovascularSystem').get(i.toString())">
                      </app-select>
                      <div
                        *ngIf="newRequest.get('dependents').get('allDependents').get(ixd.toString()).get('cardiovascularSystem')['controls'].length > 1"
                        [ngClass]="{'': newRequest.get('dependents').get('allDependents').get(ixd.toString()).get('cardiovascularSystem')['controls'].length === 1, 'col-span-1': newRequest.get('dependents').get('allDependents').get(ixd.toString()).get('cardiovascularSystem')['controls'].length > 1} ">
                        <button mat-mini-fab aria-label=" Eliminar estudio"
                          (click)="diseaseService.removeToList(i, newRequest.get('dependents').get('allDependents').get(ixd.toString()).get('cardiovascularSystem'))"
                          type="button" class="dashboard-toolbar-buttons" style="border: 1px rgb(197, 197, 197) solid">
                          <mat-icon style="color: #18446B">remove</mat-icon>
                        </button>
                      </div>
                    </div>
                  </div>
                  <div class="mb-8">
                    <button mat-mini-fab aria-label="Agregar estudio"
                      (click)="addToList(newRequest.get('dependents').get('allDependents').get(ixd.toString()).get('cardiovascularSystem'), 'questionsAInformation')"
                      type="button" class="dashboard-toolbar-buttons" style="border: 1px rgb(197, 197, 197) solid">
                      <mat-icon style="color: #18446B">add</mat-icon>
                    </button>
                  </div>
                </div>
              </div> -->
              <!-- FLUJO NUEVO ENDOCRINO -->
              <!-- <div
                *ngIf="(newRequest.get('questionsA').value.haveEndocrineDisorders === true || newRequest.get('questionsA').value.haveEndocrineDisorders === 'TRUE') && question.name === 'haveEndocrineDisorders' && newRequest.get('questionsA').get('endocrineDisorders')">
                <hr class=" w-full mb-6 ww-divider">
                <div class="radio-button-label mb-4" style="font-size: 12px !important;">Información del padecimiento
                  del asegurado</div>
                <div *ngFor="let studies of endocrineDisordersList.controls; let i = index"
                  class="grid grid-cols-1 sm:grid-cols-1 md:grid-cols-2 lg:grid-cols-4 xl:grid-cols-4">
                  <app-input class="mr-3"
                    [group]="newRequest.get('questionsA').get('endocrineDisorders').get(i.toString())" name="name"
                    label="Nombre del Paciente"
                    [value]="newRequest.get('person').value.firstName+' '+newRequest.get('person').value.lastName">
                  </app-input>
                  <app-select class="mr-3" [options]="endocrineAilment"
                    (selected)="ailmentSelected('endocrineDisorders', 'solicitante', this.questionnairesGastosMayores, this.newRequest.get('questionsA'))"
                    [group]="newRequest.get('questionsA').get('endocrineDisorders').get(i.toString())"></app-select>
                  <app-date-picker class="mr-3" [max]="todayDate"
                    [group]="newRequest.get('questionsA').get('endocrineDisorders').get(i.toString())" name="date"
                    label="Fecha del Padecimiento">
                  </app-date-picker>
                  <app-input class="mr-3"
                    [group]="newRequest.get('questionsA').get('endocrineDisorders').get(i.toString())" name="threatment"
                    label="Tratamiento">
                  </app-input>
                  <app-input class="mr-3"
                    [group]="newRequest.get('questionsA').get('endocrineDisorders').get(i.toString())"
                    name="medicCenterName" label="Nombre del proveedor o centro médico">
                  </app-input>
                  <app-input class="mr-3"
                    [group]="newRequest.get('questionsA').get('endocrineDisorders').get(i.toString())"
                    name="medicCenterAddress" label="Dirección del proveedor o centro médico">
                  </app-input>
                  <app-number-input class="mr-3"
                    [group]="newRequest.get('questionsA').get('endocrineDisorders').get(i.toString())"
                    label="Duración del Tratamiento" name='duration' min="1">
                  </app-number-input>
                  <div class="grid grid-cols-2">
                    <app-select class="mr-3" [options]="year"
                      [group]="newRequest.get('questionsA').get('endocrineDisorders').get(i.toString())"></app-select>
                    <div *ngIf="endocrineDisordersList.length > 1"
                      [ngClass]="{'': endocrineDisordersList.length === 1, 'col-span-1': endocrineDisordersList.length > 1} ">
                      <button mat-mini-fab aria-label=" Eliminar estudio"
                        (click)="diseaseService.removeToList(i, endocrineDisordersList)"
                        (click)="ailmentSelected('endocrineDisorders', 'solicitante', this.questionnairesGastosMayores, this.newRequest.get('questionsA'))"
                        type="button" class="dashboard-toolbar-buttons" style="border: 1px rgb(197, 197, 197) solid">
                        <mat-icon style="color: #18446B">remove</mat-icon>
                      </button>
                    </div>
                  </div>
                </div>
                <div class="mb-8">
                  <button mat-mini-fab aria-label="Agregar estudio"
                    (click)="addToList(endocrineDisordersList, 'questionsAInformation')" type="button"
                    class="dashboard-toolbar-buttons" style="border: 1px rgb(197, 197, 197) solid">
                    <mat-icon style="color: #18446B">add</mat-icon>
                  </button>
                </div>
              </div>
              <div *ngFor="let dpd of allDependents.controls; index as ixd">
                <div
                  *ngIf="(newRequest.get('dependents').get('allDependents').get(ixd.toString()).value.haveEndocrineDisorders === true || newRequest.get('dependents').get('allDependents').get(ixd.toString()).value.haveEndocrineDisorders === 'TRUE') && question.name === 'haveEndocrineDisorders' && newRequest.get('dependents').get('allDependents').get(ixd.toString()).get('endocrineDisorders')">
                  <hr class=" w-full mb-6 ww-divider">
                  <div class="radio-button-label mb-4" style="font-size: 12px !important;">Informacion del dependiente /
                    {{dpd.value.name | titlecase}}
                    {{dpd.value.lastName | titlecase}}</div>
                  <div
                    *ngFor="let studies of newRequest.get('dependents').get('allDependents').get(ixd.toString()).get('endocrineDisorders')['controls']; let i = index"
                    class="grid grid-cols-1 sm:grid-cols-1 md:grid-cols-2 lg:grid-cols-4 xl:grid-cols-4">
                    <app-input class="mr-3"
                      [group]="newRequest.get('dependents').get('allDependents').get(ixd.toString()).get('endocrineDisorders').get(i.toString())"
                      name="name" label="Nombre del Paciente" [value]="dpd.value.name+' '+dpd.value.lastName">
                    </app-input>
                    <app-select class="mr-3" [options]="endocrineAilment"
                      (selected)="ailmentSelected('endocrineDisorders', 'solicitante', newRequest.get('dependents').get('allDependents').get(ixd.toString()), newRequest.get('dependents').get('allDependents').get(ixd.toString()))"
                      [group]="newRequest.get('dependents').get('allDependents').get(ixd.toString()).get('endocrineDisorders').get(i.toString())">
                    </app-select>
                    <app-date-picker class="mr-3" [max]="todayDate"
                      [group]="newRequest.get('dependents').get('allDependents').get(ixd.toString()).get('endocrineDisorders').get(i.toString())"
                      name="date" label="Fecha del Padecimiento">
                    </app-date-picker>
                    <app-input class="mr-3"
                      [group]="newRequest.get('dependents').get('allDependents').get(ixd.toString()).get('endocrineDisorders').get(i.toString())"
                      name="threatment" label="Tratamiento">
                    </app-input>
                    <app-input class="mr-3"
                      [group]="newRequest.get('dependents').get('allDependents').get(ixd.toString()).get('endocrineDisorders').get(i.toString())"
                      name="medicCenterName" label="Nombre del proveedor o centro médico">
                    </app-input>
                    <app-input class="mr-3"
                      [group]="newRequest.get('dependents').get('allDependents').get(ixd.toString()).get('endocrineDisorders').get(i.toString())"
                      name="medicCenterAddress" label="Dirección del proveedor o centro médico">
                    </app-input>
                    <app-number-input class="mr-3"
                      [group]="newRequest.get('dependents').get('allDependents').get(ixd.toString()).get('endocrineDisorders').get(i.toString())"
                      label="Duración del Tratamiento" name='duration' min="1">
                    </app-number-input>
                    <div class="grid grid-cols-2">
                      <app-select class="mr-3" [options]="year"
                        [group]="newRequest.get('dependents').get('allDependents').get(ixd.toString()).get('endocrineDisorders').get(i.toString())">
                      </app-select>
                      <div
                        *ngIf="newRequest.get('dependents').get('allDependents').get(ixd.toString()).get('endocrineDisorders')['controls'].length > 1"
                        [ngClass]="{'': newRequest.get('dependents').get('allDependents').get(ixd.toString()).get('endocrineDisorders')['controls'].length === 1, 'col-span-1': newRequest.get('dependents').get('allDependents').get(ixd.toString()).get('endocrineDisorders')['controls'].length > 1} ">
                        <button mat-mini-fab aria-label=" Eliminar estudio"
                          (click)="diseaseService.removeToList(i, newRequest.get('dependents').get('allDependents').get(ixd.toString()).get('endocrineDisorders'))"
                          type="button" class="dashboard-toolbar-buttons" style="border: 1px rgb(197, 197, 197) solid">
                          <mat-icon style="color: #18446B">remove</mat-icon>
                        </button>
                      </div>
                    </div>
                  </div>
                  <div class="mb-8">
                    <button mat-mini-fab aria-label="Agregar estudio"
                      (click)="addToList(newRequest.get('dependents').get('allDependents').get(ixd.toString()).get('endocrineDisorders'), 'questionsAInformation')"
                      type="button" class="dashboard-toolbar-buttons" style="border: 1px rgb(197, 197, 197) solid">
                      <mat-icon style="color: #18446B">add</mat-icon>
                    </button>
                  </div>
                </div>
              </div> -->
              <!-- FLUJO NUEVO URINARIO -->
              <!-- <div
                *ngIf="(newRequest.get('questionsA').value.haveUrinarySystem === true || newRequest.get('questionsA').value.haveUrinarySystem === 'TRUE') && question.name === 'haveUrinarySystem' && newRequest.get('questionsA').get('urinarySystem')">
                <hr class=" w-full mb-6 ww-divider">
                <div class="radio-button-label mb-4" style="font-size: 12px !important;">Información del padecimiento
                  del asegurado</div>
                <div *ngFor="let studies of urinarySystemList.controls; let i = index"
                  class="grid grid-cols-1 sm:grid-cols-1 md:grid-cols-2 lg:grid-cols-4 xl:grid-cols-4">
                  <app-input class="mr-3" [group]="newRequest.get('questionsA').get('urinarySystem').get(i.toString())"
                    name="name" label="Nombre del Paciente"
                    [value]="newRequest.get('person').value.firstName+' '+newRequest.get('person').value.lastName">
                  </app-input>
                  <app-select class="mr-3" [options]="urineSystemAilment"
                    (selected)="ailmentSelected('urinarySystem', 'solicitante', this.questionnairesGastosMayores, this.newRequest.get('questionsA'))"
                    [group]="newRequest.get('questionsA').get('urinarySystem').get(i.toString())"></app-select>
                  <app-date-picker class="mr-3" [max]="todayDate"
                    [group]="newRequest.get('questionsA').get('urinarySystem').get(i.toString())" name="date"
                    label="Fecha del Padecimiento">
                  </app-date-picker>
                  <app-input class="mr-3" [group]="newRequest.get('questionsA').get('urinarySystem').get(i.toString())"
                    name="threatment" label="Tratamiento">
                  </app-input>
                  <app-input class="mr-3" [group]="newRequest.get('questionsA').get('urinarySystem').get(i.toString())"
                    name="medicCenterName" label="Nombre del proveedor o centro médico">
                  </app-input>
                  <app-input class="mr-3" [group]="newRequest.get('questionsA').get('urinarySystem').get(i.toString())"
                    name="medicCenterAddress" label="Dirección del proveedor o centro médico">
                  </app-input>
                  <app-number-input class="mr-3"
                    [group]="newRequest.get('questionsA').get('urinarySystem').get(i.toString())"
                    label="Duración del Tratamiento" name='duration' min="1">
                  </app-number-input>
                  <div class="grid grid-cols-2">
                    <app-select class="mr-3" [options]="year"
                      [group]="newRequest.get('questionsA').get('urinarySystem').get(i.toString())"></app-select>
                    <div *ngIf="urinarySystemList.length > 1"
                      [ngClass]="{'': urinarySystemList.length === 1, 'col-span-1': urinarySystemList.length > 1} ">
                      <button mat-mini-fab aria-label=" Eliminar estudio"
                        (click)="diseaseService.removeToList(i, urinarySystemList)"
                        (click)="ailmentSelected('urinarySystem', 'solicitante', this.questionnairesGastosMayores, this.newRequest.get('questionsA'))"
                        type="button" class="dashboard-toolbar-buttons" style="border: 1px rgb(197, 197, 197) solid">
                        <mat-icon style="color: #18446B">remove</mat-icon>
                      </button>
                    </div>
                  </div>
                </div>
                <div class="mb-8">
                  <button mat-mini-fab aria-label="Agregar estudio"
                    (click)="addToList(urinarySystemList, 'questionsAInformation')" type="button"
                    class="dashboard-toolbar-buttons" style="border: 1px rgb(197, 197, 197) solid">
                    <mat-icon style="color: #18446B">add</mat-icon>
                  </button>
                </div>
              </div>
              <div *ngFor="let dpd of allDependents.controls; index as ixd">
                <div
                  *ngIf="(newRequest.get('dependents').get('allDependents').get(ixd.toString()).value.haveUrinarySystem === true || newRequest.get('dependents').get('allDependents').get(ixd.toString()).value.haveUrinarySystem === 'TRUE') && question.name === 'haveUrinarySystem' && newRequest.get('dependents').get('allDependents').get(ixd.toString()).get('urinarySystem')">
                  <hr class=" w-full mb-6 ww-divider">
                  <div class="radio-button-label mb-4" style="font-size: 12px !important;">Informacion del dependiente /
                    {{dpd.value.name | titlecase}}
                    {{dpd.value.lastName | titlecase}}</div>
                  <div
                    *ngFor="let studies of newRequest.get('dependents').get('allDependents').get(ixd.toString()).get('urinarySystem')['controls']; let i = index"
                    class="grid grid-cols-1 sm:grid-cols-1 md:grid-cols-2 lg:grid-cols-4 xl:grid-cols-4">
                    <app-input class="mr-3"
                      [group]="newRequest.get('dependents').get('allDependents').get(ixd.toString()).get('urinarySystem').get(i.toString())"
                      name="name" label="Nombre del Paciente" [value]="dpd.value.name+' '+dpd.value.lastName">
                    </app-input>
                    <app-select class="mr-3" [options]="urineSystemAilment"
                      (selected)="ailmentSelected('urinarySystem', 'solicitante', newRequest.get('dependents').get('allDependents').get(ixd.toString()), newRequest.get('dependents').get('allDependents').get(ixd.toString()))"
                      [group]="newRequest.get('dependents').get('allDependents').get(ixd.toString()).get('urinarySystem').get(i.toString())">
                    </app-select>
                    <app-date-picker class="mr-3" [max]="todayDate"
                      [group]="newRequest.get('dependents').get('allDependents').get(ixd.toString()).get('urinarySystem').get(i.toString())"
                      name="date" label="Fecha del Padecimiento">
                    </app-date-picker>
                    <app-input class="mr-3"
                      [group]="newRequest.get('dependents').get('allDependents').get(ixd.toString()).get('urinarySystem').get(i.toString())"
                      name="threatment" label="Tratamiento">
                    </app-input>
                    <app-input class="mr-3"
                      [group]="newRequest.get('dependents').get('allDependents').get(ixd.toString()).get('urinarySystem').get(i.toString())"
                      name="medicCenterName" label="Nombre del proveedor o centro médico">
                    </app-input>
                    <app-input class="mr-3"
                      [group]="newRequest.get('dependents').get('allDependents').get(ixd.toString()).get('urinarySystem').get(i.toString())"
                      name="medicCenterAddress" label="Dirección del proveedor o centro médico">
                    </app-input>
                    <app-number-input class="mr-3"
                      [group]="newRequest.get('dependents').get('allDependents').get(ixd.toString()).get('urinarySystem').get(i.toString())"
                      label="Duración del Tratamiento" name='duration' min="1">
                    </app-number-input>
                    <div class="grid grid-cols-2">
                      <app-select class="mr-3" [options]="year"
                        [group]="newRequest.get('dependents').get('allDependents').get(ixd.toString()).get('urinarySystem').get(i.toString())">
                      </app-select>
                      <div
                        *ngIf="newRequest.get('dependents').get('allDependents').get(ixd.toString()).get('urinarySystem')['controls'].length > 1"
                        [ngClass]="{'': newRequest.get('dependents').get('allDependents').get(ixd.toString()).get('urinarySystem')['controls'].length === 1, 'col-span-1': newRequest.get('dependents').get('allDependents').get(ixd.toString()).get('urinarySystem')['controls'].length > 1} ">
                        <button mat-mini-fab aria-label=" Eliminar estudio"
                          (click)="diseaseService.removeToList(i, newRequest.get('dependents').get('allDependents').get(ixd.toString()).get('urinarySystem'))"
                          type="button" class="dashboard-toolbar-buttons" style="border: 1px rgb(197, 197, 197) solid">
                          <mat-icon style="color: #18446B">remove</mat-icon>
                        </button>
                      </div>
                    </div>
                  </div>
                  <div class="mb-8">
                    <button mat-mini-fab aria-label="Agregar estudio"
                      (click)="addToList(newRequest.get('dependents').get('allDependents').get(ixd.toString()).get('urinarySystem'), 'questionsAInformation')"
                      type="button" class="dashboard-toolbar-buttons" style="border: 1px rgb(197, 197, 197) solid">
                      <mat-icon style="color: #18446B">add</mat-icon>
                    </button>
                  </div>
                </div>
              </div> -->
              <!-- NUEVO FLUJO DEL FLUJO NUEVO EN TODAS LAS INFORMNAME -->
              <div
                *ngIf="question.name !== 'haveNicotine' && question.name !== 'haveHighRiskSport' && question.name !== 'havePregnant' && question.name !== 'haveAlcoholicDependence'">
                <app-section-a-block [newRequest]="newRequest" [inFormName]="question.name" [arrayName]="question.array"
                  [dependentsArrayList]="allDependents" [ailmentOptions]="this[question.array+'Ailment']"
                  [questionnairesGastosMayores]="newRequest.get('questionsA').get('questionnairesGastosMayores')"
                  (addToList)="addToList($event.array, $event.name)"
                  (ailmentSelected)="ailmentSelected($event.type, $event.form, $event.watcherForm)">
                </app-section-a-block>
              </div>
              <!-- SI FUMABA -->
              <div
                *ngIf="(newRequest.get('questionsA').value.haveAlcoholicDependence === true || newRequest.get('questionsA').value.haveAlcoholicDependence === 'TRUE') && question.name === 'haveAlcoholicDependence' && newRequest.get('questionsA').get('alcoholicDependence')">
                <mat-label class="radio-button-label">Información Asegurado</mat-label>
                <div class='grid grid-cols-1 sm:grid-cols-1 md:grid-cols-2 lg:grid-cols-4 xl:grid-cols-4'>
                  <app-date-picker class="mr-3" [group]="newRequest.get('questionsA').get('alcoholicDependence')"
                    label="Fecha" name='date'>
                  </app-date-picker>
                  <app-input class="mr-3" [group]="newRequest.get('questionsA').get('alcoholicDependence')"
                    label="Sustancia" name='substance'>
                  </app-input>
                  <app-input class="mr-3" [group]="newRequest.get('questionsA').get('alcoholicDependence')"
                    label="Tratamiento" name='threatment'>
                  </app-input>
                </div>
              </div>
              <div *ngFor="let dpd of allDependents.controls; index as ixd">
                <div
                  *ngIf="(newRequest.get('dependents').get('allDependents').get(ixd.toString()).value.haveAlcoholicDependence === true || newRequest.get('dependents').get('allDependents').get(ixd.toString()).value.haveAlcoholicDependence === 'TRUE') && question.name === 'haveAlcoholicDependence' && newRequest.get('dependents').get('allDependents').get(ixd.toString()).get('alcoholicDependence')">
                  <label class="my-2 text-xs">Información / D{{ixd+1}} - {{dpd.value.name}}
                    {{dpd.value.lastName}}</label>
                  <div class='grid grid-cols-1 sm:grid-cols-1 md:grid-cols-2 lg:grid-cols-4 xl:grid-cols-4'>
                    <app-date-picker class="mr-3"
                      [group]="newRequest.get('dependents').get('allDependents').get(ixd.toString()).get('alcoholicDependence')"
                      label="Fecha" name='date'>
                    </app-date-picker>
                    <app-input class="mr-3"
                      [group]="newRequest.get('dependents').get('allDependents').get(ixd.toString()).get('alcoholicDependence')"
                      label="Sustancia" name='substance'>
                    </app-input>
                    <app-input class="mr-3"
                      [group]="newRequest.get('dependents').get('allDependents').get(ixd.toString()).get('alcoholicDependence')"
                      label="Tratamiento" name='threatment'>
                    </app-input>
                  </div>
                </div>
              </div>
              <!-- SI FUMABA -->
              <div
                *ngIf="(newRequest.get('questionsA').value.haveNicotine === true || newRequest.get('questionsA').value.haveNicotine === 'TRUE') && question.name === 'haveNicotine' && newRequest.get('questionsA').get('nicotine')">
                <mat-label class="radio-button-label">Especifique cantidad por día y cuánto tiempo tiene o estuvo
                  fumando</mat-label>
                <div class='grid grid-cols-1 sm:grid-cols-1 md:grid-cols-2 lg:grid-cols-2 xl:grid-cols-2'>
                  <div class='grid grid-cols-1 sm:grid-cols-1 md:grid-cols-2 lg:grid-cols-2 xl:grid-cols-2'>
                    <app-number-input class="mr-3" [group]="newRequest.get('questionsA').get('nicotine')"
                      label="Cantidad por día" name='quantity'>
                    </app-number-input>
                    <div class='grid grid-cols-2'>
                      <app-input class="mr-3" [group]="newRequest.get('questionsA').get('nicotine')" label="Tiempo"
                        name='timerange'>
                      </app-input>
                      <app-select class="mr-3" [options]="year" [group]="newRequest.get('questionsA').get('nicotine')">
                      </app-select>
                    </div>
                  </div>
                  <div></div>
                </div>
                <app-radio-button class="mt-2" [group]="newRequest.get('questionsA').get('nicotine')"
                  name="isActualSmoker" [options]="isActualSmoker"
                  (selected)="valueChange($event, question.name, 'solicitante')">
                </app-radio-button>
                <div class="grid grid-cols-4">
                  <app-date-picker class="mr-3" [max]="todayDate"
                    *ngIf="newRequest.get('questionsA').get('nicotine').get('lastTimeSmoked')"
                    [group]="newRequest.get('questionsA').get('nicotine')" name="lastTimeSmoked"
                    label="Indique última vez que fumó">
                  </app-date-picker>
                </div>
              </div>
              <div *ngFor="let dpd of allDependents.controls; index as ixd">
                <div
                  *ngIf="(newRequest.get('dependents').get('allDependents').get(ixd.toString()).value.haveNicotine === true || newRequest.get('dependents').get('allDependents').get(ixd.toString()).value.haveNicotine === 'TRUE') && question.name === 'haveNicotine' && newRequest.get('dependents').get('allDependents').get(ixd.toString()).get('nicotine')">
                  <label class="my-2 text-xs">Especifique cantidad por día y cuánto tiempo tiene o estuvo
                    fumando / D{{ixd+1}} - {{dpd.value.name}}
                    {{dpd.value.lastName}}</label>
                  <div class='grid grid-cols-1 sm:grid-cols-1 md:grid-cols-2 lg:grid-cols-2 xl:grid-cols-2'>
                    <div class='grid grid-cols-1 sm:grid-cols-1 md:grid-cols-2 lg:grid-cols-2 xl:grid-cols-2'>
                      <app-number-input class="mr-3"
                        [group]="newRequest.get('dependents').get('allDependents').get(ixd.toString()).get('nicotine')"
                        label="Cantidad por día" name='quantity'>
                      </app-number-input>
                      <div class='grid grid-cols-2'>
                        <app-input class="mr-3"
                          [group]="newRequest.get('dependents').get('allDependents').get(ixd.toString()).get('nicotine')"
                          label="Tiempo" name='timerange'>
                        </app-input>
                        <app-select class="mr-3" [options]="year"
                          [group]="newRequest.get('dependents').get('allDependents').get(ixd.toString()).get('nicotine')">
                        </app-select>
                      </div>
                    </div>
                    <div></div>
                  </div>
                  <app-radio-button class="mt-2"
                    [group]="newRequest.get('dependents').get('allDependents').get(ixd.toString()).get('nicotine')"
                    name="isActualSmoker" [options]="isActualSmoker">
                  </app-radio-button>
                  <div class=" grid grid-cols-4">
                    <app-date-picker class="mr-3" [max]="todayDate"
                      *ngIf="newRequest.get('dependents').get('allDependents').get(ixd.toString()).get('nicotine').get('isActualSmoker').value === 'EX-FUMADOR'"
                      [group]="newRequest.get('dependents').get('allDependents').get(ixd.toString()).get('nicotine')"
                      name="lastTimeSmoked" label="Indique última vez que fumó">
                    </app-date-picker>
                  </div>
                </div>
              </div>
              <!-- SI ESTA EMBARAZADA -->
              <div
                *ngIf="newRequest.get('questionsA').value.havePregnant === true && question.name === 'havePregnant' && newRequest.get('questionsA').get('pregnant')">
                <label class="my-2 text-xs">Favor indicar semanas de embarazo</label>
                <div style="width: 200px;">
                  <app-number-input class="mr-3" [group]="newRequest.get('questionsA').get('pregnant')" type="number"
                    label="Semanas" name='time'>
                  </app-number-input>
                </div>
              </div>
              <div *ngFor="let dpd of allDependents.controls; index as ixd">
                <div
                  *ngIf="newRequest.get('dependents').get('allDependents').get(ixd.toString()).value.havePregnant === true && question.name === 'havePregnant' && newRequest.get('dependents').get('allDependents').get(ixd.toString()).get('pregnant')">
                  <label class="my-2 text-xs">Favor indicar semanas de embarazo / D{{ixd+1}} - {{dpd.value.name}}
                    {{dpd.value.lastName}}</label>
                  <div style="width: 200px;">
                    <app-number-input class="mr-3"
                      [group]="newRequest.get('dependents').get('allDependents').get(ixd.toString()).get('pregnant')"
                      type="number" label="Semanas" name='time'>
                    </app-number-input>
                  </div>
                </div>
              </div>
              <!-- SI PRACTICA DEPORTE DE ALTO RIESGO -->
              <div
                *ngIf="(newRequest.get('questionsA').value.haveHighRiskSport === true || newRequest.get('questionsA').value.haveHighRiskSport === 'TRUE') && question.name === 'haveHighRiskSport' && newRequest.get('questionsA').get('highRiskSport')">
                <label class="my-4 text-xs">Escoja cuales actividades realiza</label>
                <div *ngFor="let sportQuestion of sportsQuestions">
                  <hr class=" w-full mb-6 ww-divider">
                  <div
                    class="w-full xl:flex xl:justify-between lg:flex lg:justify-between md:flex md:justify-between sm:flex sm:justify-between">
                    <div class="radio-button-label" style="font-size: 12px !important; max-width: 60vw;">
                      {{sportQuestion.label}}
                    </div>
                    <app-radio-button [group]="newRequest.get('questionsA').get('highRiskSport')"
                      [name]="sportQuestion.name" [options]="diseaseService.yesOrNoOriginal"
                      (selected)="valueChange($event, sportQuestion.name, 'solicitante')">
                    </app-radio-button>
                  </div>

                </div>
              </div>
              <div *ngFor="let dpd of allDependents.controls; index as ixd">
                <div
                  *ngIf="(newRequest.get('dependents').get('allDependents').get(ixd.toString()).value.haveHighRiskSport === true || newRequest.get('dependents').get('allDependents').get(ixd.toString()).value.haveHighRiskSport === 'TRUE') && question.name === 'haveHighRiskSport' && newRequest.get('dependents').get('allDependents').get(ixd.toString()).get('highRiskSport')">
                  <label class="my-4 text-xs">Escoja cuales actividades realiza / D{{ixd+1}} - {{dpd.value.name}}
                    {{dpd.value.lastName}}</label>
                  <div *ngFor="let sportQuestion of sportsQuestions">
                    <hr class=" w-full mb-6 ww-divider">
                    <div
                      class="w-full xl:flex xl:justify-between lg:flex lg:justify-between md:flex md:justify-between sm:flex sm:justify-between">
                      <div class="radio-button-label" style="font-size: 12px !important; max-width: 60vw;">
                        {{sportQuestion.label}}
                      </div>
                      <app-radio-button
                        [group]="newRequest.get('dependents').get('allDependents').get(ixd.toString()).get('highRiskSport')"
                        [name]="sportQuestion.name" [options]="diseaseService.yesOrNoOriginal"
                        (selected)="valueChange($event, sportQuestion.name, ixd)">
                      </app-radio-button>
                    </div>

                  </div>
                </div>
              </div>
              <hr *ngIf="canShow(question.name)" class=" w-full ww-divider">

            </div>


            <mat-action-row class="action-row">
              <button mat-button class="next-button" (click)="nextStep()" type="button">
                Siguiente
              </button>
            </mat-action-row>
          </mat-expansion-panel>
          <mat-expansion-panel class="ww-mat-expansion" [expanded]="step === 6" (opened)="setStep(6)">
            <mat-expansion-panel-header class="body-13 icon-blue">
              <mat-panel-title>
                Sección B
              </mat-panel-title>
              <mat-panel-description>
                <div></div>
                <div *ngIf="showWarningDot(newRequest.get('questionsB'))" class="warning-accordion-dot"></div>
              </mat-panel-description>
            </mat-expansion-panel-header>

            <div class="formulary-labels pb-3">Además de las enfermedades o
              padecimientos mencionados en la Sección A, a su mejor entendimiento y conocimiento, hay alguna persona
              nombrada en esta solicitud que:
            </div>
            <hr class=" w-full mb-6 ww-divider">

            <div *ngFor="let question of questionsB">
              <div
                class="w-full xl:flex xl:justify-between lg:flex lg:justify-between md:flex md:justify-between sm:flex sm:justify-between">
                <div class="radio-button-label" style="font-size: 12px !important; max-width: 75%;">
                  {{question.question}}</div>
                <app-radio-button [group]="newRequest.get('questionsB')" [name]="question.name"
                  [options]="diseaseService.yesOrNoOriginal" (selected)="selectChange($event)">
                </app-radio-button>
              </div>
              <div
                *ngIf="question.name === 'haveConsultedForUnmentioned' && newRequest.get('questionsB').value.haveConsultedForUnmentioned === 'SI' && newRequest.get('questionsB').get('consultedForUnmentioned')">
                <div
                  *ngFor="let studies of newRequest.get('questionsB').get('consultedForUnmentioned')['controls']; let i = index"
                  class="grid grid-cols-1 sm:grid-cols-1 md:grid-cols-2 lg:grid-cols-4 xl:grid-cols-4">
                  <mat-form-field class="mr-3" color="accent" appearance="outline"
                    [formGroup]="newRequest.get('questionsB').get('consultedForUnmentioned').get(i.toString())">
                    <mat-label>Nombre de la persona</mat-label>
                    <mat-select formControlName="name">
                      <mat-option
                        value="{{newRequest.get('person').value.firstName}} {{newRequest.get('person').value.lastName}}">
                        {{newRequest.get('person').value.firstName}} {{newRequest.get('person').value.lastName}}
                      </mat-option>
                      <mat-option *ngFor="let dpd of allDependents.controls; index as i"
                        value="{{dpd.value.name}} {{dpd.value.lastName}}">
                        {{dpd.value.name}} {{dpd.value.lastName}}
                      </mat-option>
                    </mat-select>
                  </mat-form-field>
                  <app-input class="mr-3"
                    [group]="newRequest.get('questionsB').get('consultedForUnmentioned').get(i.toString())"
                    name="ailment" label="Padecimiento">
                  </app-input>
                  <app-date-picker class="mr-3"
                    [group]="newRequest.get('questionsB').get('consultedForUnmentioned').get(i.toString())" name="date"
                    label="Fecha del Padecimiento" [max]="todayDate">
                  </app-date-picker>
                  <app-input class="mr-3"
                    [group]="newRequest.get('questionsB').get('consultedForUnmentioned').get(i.toString())"
                    name="threatment" label="Tratamiento">
                  </app-input>
                  <app-input class="mr-3"
                    [group]="newRequest.get('questionsB').get('consultedForUnmentioned').get(i.toString())"
                    name="medicCenterName" label="Nombre del proveedor o centro médico">
                  </app-input>
                  <app-input class="mr-3"
                    [group]="newRequest.get('questionsB').get('consultedForUnmentioned').get(i.toString())"
                    name="medicCenterAddress" label="Dirección del proveedor o centro médico">
                  </app-input>
                  <app-number-input class="mr-3"
                    [group]="newRequest.get('questionsB').get('consultedForUnmentioned').get(i.toString())"
                    label="Duración del Tratamiento" name='duration' min="1">
                  </app-number-input>
                  <div class="grid grid-cols-2">
                    <app-select class="mr-3" [options]="year"
                      [group]="newRequest.get('questionsB').get('consultedForUnmentioned').get(i.toString())">
                    </app-select>
                    <div *ngIf="newRequest.get('questionsB').get('consultedForUnmentioned')['controls'].length > 1">
                      <button mat-mini-fab aria-label=" Eliminar estudio"
                        (click)="diseaseService.removeToList(i, newRequest.get('questionsB').get('consultedForUnmentioned'))"
                        type="button" class="dashboard-toolbar-buttons" style="border: 1px rgb(197, 197, 197) solid">
                        <mat-icon style="color: #18446B">remove</mat-icon>
                      </button>
                    </div>
                  </div>
                </div>
                <div class="mb-8">
                  <button mat-mini-fab aria-label="Agregar estudio"
                    (click)="addToList(newRequest.get('questionsB').get('consultedForUnmentioned'), 'medicInformation')"
                    type="button" class="dashboard-toolbar-buttons" style="border: 1px rgb(197, 197, 197) solid">
                    <mat-icon style="color: #18446B">add</mat-icon>
                  </button>
                </div>
              </div>
              <div
                *ngIf="question.name === 'haveAlterationForUnmentioned' && newRequest.get('questionsB').value.haveAlterationForUnmentioned === 'SI' && newRequest.get('questionsB').get('alterationForUnmentioned')">
                <div
                  *ngFor="let studies of newRequest.get('questionsB').get('alterationForUnmentioned')['controls']; let i = index"
                  class="grid grid-cols-1 sm:grid-cols-1 md:grid-cols-2 lg:grid-cols-4 xl:grid-cols-4">
                  <mat-form-field class="mr-3" color="accent" appearance="outline"
                    [formGroup]="newRequest.get('questionsB').get('alterationForUnmentioned').get(i.toString())">
                    <mat-label>Nombre de la persona</mat-label>
                    <mat-select formControlName="name">
                      <mat-option
                        value="{{newRequest.get('person').value.firstName}} {{newRequest.get('person').value.lastName}}">
                        {{newRequest.get('person').value.firstName}} {{newRequest.get('person').value.lastName}}
                      </mat-option>
                      <mat-option *ngFor="let dpd of allDependents.controls; index as i"
                        value="{{dpd.value.name}} {{dpd.value.lastName}}">
                        {{dpd.value.name}} {{dpd.value.lastName}}
                      </mat-option>
                    </mat-select>
                  </mat-form-field>
                  <app-input class="mr-3"
                    [group]="newRequest.get('questionsB').get('alterationForUnmentioned').get(i.toString())"
                    name="ailment" label="Padecimiento">
                  </app-input>
                  <app-date-picker class="mr-3"
                    [group]="newRequest.get('questionsB').get('alterationForUnmentioned').get(i.toString())" name="date"
                    label="Fecha del Padecimiento" [max]="todayDate">
                  </app-date-picker>
                  <app-input class="mr-3"
                    [group]="newRequest.get('questionsB').get('alterationForUnmentioned').get(i.toString())"
                    name="threatment" label="Tratamiento">
                  </app-input>
                  <app-input class="mr-3"
                    [group]="newRequest.get('questionsB').get('alterationForUnmentioned').get(i.toString())"
                    name="medicCenterName" label="Nombre del proveedor o centro médico">
                  </app-input>
                  <app-input class="mr-3"
                    [group]="newRequest.get('questionsB').get('alterationForUnmentioned').get(i.toString())"
                    name="medicCenterAddress" label="Dirección del proveedor o centro médico">
                  </app-input>
                  <app-number-input class="mr-3"
                    [group]="newRequest.get('questionsB').get('alterationForUnmentioned').get(i.toString())"
                    label="Duración del Tratamiento" name='duration' min="1">
                  </app-number-input>
                  <div class="grid grid-cols-2">
                    <app-select class="mr-3" [options]="year"
                      [group]="newRequest.get('questionsB').get('alterationForUnmentioned').get(i.toString())">
                    </app-select>
                    <div *ngIf="newRequest.get('questionsB').get('alterationForUnmentioned')['controls'].length > 1">
                      <button mat-mini-fab aria-label=" Eliminar estudio"
                        (click)="diseaseService.removeToList(i, newRequest.get('questionsB').get('alterationForUnmentioned'))"
                        type="button" class="dashboard-toolbar-buttons" style="border: 1px rgb(197, 197, 197) solid">
                        <mat-icon style="color: #18446B">remove</mat-icon>
                      </button>
                    </div>
                  </div>
                </div>
                <div class="mb-8">
                  <button mat-mini-fab aria-label="Agregar estudio"
                    (click)="addToList(newRequest.get('questionsB').get('alterationForUnmentioned'), 'medicInformation')"
                    type="button" class="dashboard-toolbar-buttons" style="border: 1px rgb(197, 197, 197) solid">
                    <mat-icon style="color: #18446B">add</mat-icon>
                  </button>
                </div>
              </div>
              <div *ngIf="question.name === 'haveHadExamStudiesTests' &&
                newRequest.get('questionsB').value.haveHadExamStudiesTests==='SI' &&
                newRequest.get('questionsB').get('specializedTests')">
                <div
                  *ngFor="let medic of newRequest.get('questionsB').get('specializedTests')['controls']; let i = index"
                  class="grid grid-cols-1 sm:grid-cols-1 md:grid-cols-2 lg:grid-cols-4 xl:grid-cols-4">
                  <app-date-picker class="mr-3" [max]="todayDate"
                    [group]="newRequest.get('questionsB').get('specializedTests').get(i.toString())" name="date"
                    label="¿En qué fecha?">
                  </app-date-picker>
                  <app-select class="mr-3" [options]="whichStudyArray"
                    [group]="newRequest.get('questionsB').get('specializedTests').get(i.toString())"
                    (selected)="whichStudyWatcher(newRequest.get('questionsB').get('specializedTests').get(i.toString()), $event)">
                  </app-select>
                  <app-input class="mr-3"
                    *ngIf="newRequest.get('questionsB').get('specializedTests').get(i.toString()).get('specifyStudy')"
                    [group]="newRequest.get('questionsB').get('specializedTests').get(i.toString())" name="specifyStudy"
                    label="Especificar estudio">
                  </app-input>
                  <app-input class="mr-3"
                    [group]="newRequest.get('questionsB').get('specializedTests').get(i.toString())" name="results"
                    label="Resultados">
                  </app-input>
                  <div *ngIf="newRequest.get('questionsB').get('specializedTests')['controls'].length > 1">
                    <button mat-mini-fab aria-label=" Eliminar estudio"
                      (click)="diseaseService.removeToList(i, newRequest.get('questionsB').get('specializedTests'))"
                      type="button" class="dashboard-toolbar-buttons" style="border: 1px rgb(197, 197, 197) solid">
                      <mat-icon style="color: #18446B">remove</mat-icon>
                    </button>
                  </div>
                </div>
                <div class="mb-8">
                  <button mat-mini-fab aria-label="Agregar estudio"
                    (click)="addToList(newRequest.get('questionsB').get('specializedTests'), 'specializedTests')"
                    type="button" class="dashboard-toolbar-buttons" style="border: 1px rgb(197, 197, 197) solid">
                    <mat-icon style="color: #18446B">add</mat-icon>
                  </button>
                </div>
              </div>
              <div *ngIf="newRequest.get('questionsB').value[question.name] === 'SI'">
                <!-- <div *ngIf="question.name === 'hasFamilyWithHeartKidneyDisease' && familyWithDiseasesList !== null">
                  <div *ngFor="let studies of familyWithDiseasesList.controls; let i = index"
                    class="grid grid-cols-1 sm:grid-cols-1 md:grid-cols-2 lg:grid-cols-4 xl:grid-cols-4">
                    <app-select class="mr-3" [options]="family"
                      [group]="newRequest.get('questionsB').get('familyWithDiseases').get(i.toString())">
                    </app-select>
                    <div *ngIf="familyWithDiseasesList.length > 1"
                      [ngClass]="{'': familyWithDiseasesList.length === 1, 'col-span-1': familyWithDiseasesList.length > 1} ">
                      <button mat-mini-fab aria-label=" Eliminar estudio"
                        (click)="diseaseService.removeToList(i, familyWithDiseasesList)" type="button"
                        class="dashboard-toolbar-buttons" style="border: 1px rgb(197, 197, 197) solid">
                        <mat-icon style="color: #18446B">remove</mat-icon>
                      </button>
                    </div>
                  </div>
                  <div class="mb-8">
                    <button mat-mini-fab aria-label="Agregar estudio"
                      (click)="addToList(familyWithDiseasesList, 'haveDisease')" type="button"
                      class="dashboard-toolbar-buttons" style="border: 1px rgb(197, 197, 197) solid">
                      <mat-icon style="color: #18446B">add</mat-icon>
                    </button>
                  </div>
                </div> -->
                <div
                  *ngIf="question.name === 'hasDeclinedInsuranceCompany' && newRequest.get('questionsB').get('declinedInsuranceInformation')">
                  <div class="radio-button-label mb-2" style="font-size: 12px !important;">¿Por qué razón?</div>
                  <app-text-area [group]="newRequest.get('questionsB').get('declinedInsuranceInformation')"
                    name="reason" label="Texto">
                  </app-text-area>
                </div>
                <div
                  *ngIf="question.name === 'haveHadMedicalHealthInsurance' && newRequest.get('questionsB').get('medicalHealthInsurance')">
                  <div class=" grid grid-cols-1 sm:grid-cols-1 md:grid-cols-2 lg:grid-cols-4 xl:grid-cols-4">
                    <app-input class="mr-3" [group]=" newRequest.get('questionsB').get('medicalHealthInsurance')"
                      name="companyName" label="Nombre de compañía">
                    </app-input>
                    <app-input class="mr-3" [group]=" newRequest.get('questionsB').get('medicalHealthInsurance')"
                      name="policeNo" label="Número de Póliza">
                    </app-input>
                    <app-input class="mr-3" [group]=" newRequest.get('questionsB').get('medicalHealthInsurance')"
                      name="insureName" label="Nombre del Asegurado">
                    </app-input>
                    <app-input class="mr-3" [group]=" newRequest.get('questionsB').get('medicalHealthInsurance')"
                      name="insuranceCompany" label="Compañía Aseguradora">
                    </app-input>
                    <app-input class="mr-3" [group]=" newRequest.get('questionsB').get('medicalHealthInsurance')"
                      name="policeType" label="Tipo de Póiza">
                    </app-input>
                    <app-date-picker class="mr-3" [group]=" newRequest.get('questionsB').get('medicalHealthInsurance')"
                      name="emitionDate" label="Fecha en que se emitió la póliza" [max]="todayDate">
                    </app-date-picker>
                    <app-radio-button class="mr-3" [group]=" newRequest.get('questionsB').get('medicalHealthInsurance')"
                      name="isItCurrent" [options]="itIsCurrentOptions">
                    </app-radio-button>
                    <app-radio-button class="mr-3" [group]=" newRequest.get('questionsB').get('medicalHealthInsurance')"
                      name="didReclamation" [options]="didReclamationOptions" (selected)="selectChange($event)">
                    </app-radio-button>
                  </div>
                  <div
                    *ngIf="newRequest.get('questionsB').get('medicalHealthInsurance') && newRequest.get('questionsB').get('medicalHealthInsurance').value.didReclamation === 'SI'">
                    <div class="radio-button-label mb-2" style="font-size: 12px !important;">Especifique la
                      reclamación
                    </div>
                    <app-text-area [group]="newRequest.get('questionsB').get('medicalHealthInsurance')"
                      name="reclamationInfo" label="Texto">
                    </app-text-area>
                  </div>
                </div>
              </div>
              <hr class=" w-full mb-6 ww-divider">

            </div>

            <mat-action-row class="action-row">
              <button mat-button class="next-button" (click)="nextStep()" type="button">
                Siguiente
              </button>
            </mat-action-row>
          </mat-expansion-panel>
          <mat-expansion-panel class="ww-mat-expansion" [expanded]="step === 7" (opened)="setStep(7)">
            <mat-expansion-panel-header class="body-13 icon-blue">
              <mat-panel-title>
                Sección C Beneficiarios Primarios
              </mat-panel-title>
              <mat-panel-description>
                <div></div>
                <div *ngIf="showWarningDot(newRequest.get('primaryBenefits'))" class="warning-accordion-dot"></div>
              </mat-panel-description>
            </mat-expansion-panel-header>

            <div [formGroup]="newRequest.get('primaryBenefits')">
              <div formArrayName="dependentsC">
                <div *ngFor="let element of primaryBenefitsArray.controls; let index = index">
                  <div [formGroupName]="index">
                    <div class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-4 lg:grid-cols-4 xl:grid-cols-4">
                      <app-input class="mr-3"
                        [group]="newRequest.get('primaryBenefits').get('dependentsC').get(index.toString())"
                        label="Nombres y Apellidos" name='name'></app-input>
                      <app-date-picker class="mr-3" id='date'
                        [group]="newRequest.get('primaryBenefits').get('dependentsC').get(index.toString())"
                        label="Fecha de Nacimiento" name='date' [max]="todayDate"></app-date-picker>
                      <app-select class="mr-3" [options]="idType"
                        [group]="newRequest.get('primaryBenefits').get('dependentsC').get(index.toString())">
                      </app-select>
                      <app-input class="mr-3"
                        [group]="newRequest.get('primaryBenefits').get('dependentsC').get(index.toString())"
                        label="Documento de Identidad" name='id2'></app-input>
                      <!-- <app-input class="mr-3"
                        [group]="newRequest.get('primaryBenefits').get('dependentsC').get(index.toString())"
                        label="Nacionalidad" name='nationality'></app-input> -->
                      <app-select class="mr-3" [options]="nationality"
                        [group]="newRequest.get('primaryBenefits').get('dependentsC').get(index.toString())">
                      </app-select>
                      <app-input class="mr-3"
                        [group]="newRequest.get('primaryBenefits').get('dependentsC').get(index.toString())"
                        label="Ocupación" name='ocupation'></app-input>
                      <app-select class="mr-3" [options]="family"
                        [group]="newRequest.get('primaryBenefits').get('dependentsC').get(index.toString())"
                        (selected)="relationWatcher($event, newRequest.get('primaryBenefits').get('dependentsC').get(index.toString()))">
                      </app-select>
                      <app-input class="mr-3"
                        [group]="newRequest.get('primaryBenefits').get('dependentsC').get(index.toString())"
                        *ngIf="newRequest.get('primaryBenefits').get('dependentsC').get(index.toString()).get('family').value == 'OTROS'"
                        label="Especificar" name='specifyRelationship'></app-input>
                      <app-number-input class="mr-3"
                        [group]="newRequest.get('primaryBenefits').get('dependentsC').get(index.toString())"
                        label="Cantidad en %" name='quantity' min="1" max="100"></app-number-input>
                      <app-file-input class="mr-3"
                        [group]="newRequest.get('primaryBenefits').get('dependentsC').get(index.toString())"
                        name="id2Attached"
                        label="Adjuntar documento de identidad si es mayor de edad - Formato de los documentos: PDF (.pdf), JPG (.jpg) y PNG (.png)"
                        [fileNameWatcher]="id2AttachedViewValue(index, 'primaryBenefits')"
                        (onFileChange)="onBeneficiaryFileChangeOnArray($event, 'id2Attached', index, 'primaryBenefits')">
                      </app-file-input>
                    </div>
                    <div class="pb-5">
                      <button *ngIf="newRequest.get('primaryBenefits').get('dependentsC')['controls'].length > 1"
                        mat-mini-fab aria-label="Eliminar reclamacion"
                        (click)="formMethods.deleteOneElement(primaryBenefitsArray, index)" type="button"
                        class="dashboard-toolbar-buttons" style="border: 1px rgb(197, 197, 197) solid">
                        <mat-icon style="color: #18446B">remove</mat-icon>
                      </button>
                    </div>
                    <!-- <mat-divider class="pt-5"></mat-divider><br> -->
                  </div>
                </div>
                <button mat-mini-fab aria-label="Agregar reclamacion"
                  (click)="add(primaryBenefitsArray,primaryBenefits)" type="button" class="dashboard-toolbar-buttons"
                  style="border: 1px rgb(197, 197, 197) solid">
                  <mat-icon style="color: #18446B">add</mat-icon>
                </button>
              </div>
            </div>
            <div>
              <label *ngIf="isBenefitMinorThan100('primaryBenefits', 'dependentsC')"
                class="formulary-labels text-red-300" style="color: #c53030;">
                La suma de los porcentajes de
                beneficios es menor a 100%,
                por favor revisar. </label>

              <label *ngIf="isBenefitMajorThan100('primaryBenefits', 'dependentsC')"
                class="formulary-labels text-red-300" style="color: #c53030;">
                La suma de los porcentajes de
                beneficios es mayor a 100%,
                por favor revisar. </label>
            </div>
            <div class="mt-4">
              <p>Si a mi fallecimiento alguno de mis Beneficiarios Primarios es menor de edad, el beneficio
                correspondiente será entregado a</p><br>
              <div class='grid grid-cols-1 sm:grid-cols-2 md:grid-cols-4 lg:grid-cols-4 xl:grid-cols-4'>
                <app-input class="mr-3" name="name" label="Nombre Completo"
                  [group]="newRequest.get('primaryBenefits').get('personBenefited')">
                </app-input>
                <app-select class="mr-3" [options]="family"
                  [group]="newRequest.get('primaryBenefits').get('personBenefited')"
                  (selected)="relationWatcher($event, newRequest.get('primaryBenefits').get('personBenefited'))">
                </app-select>
                <app-input class="mr-3" [group]="newRequest.get('primaryBenefits').get('personBenefited')"
                  *ngIf="newRequest.get('primaryBenefits').get('personBenefited').get('family').value == 'OTROS'"
                  label="Especificar" name='specifyRelationship'></app-input>
                <app-select class="mr-3" [options]="idType"
                  [group]="newRequest.get('primaryBenefits').get('personBenefited')">
                </app-select>
                <app-input class="mr-3" [group]="newRequest.get('primaryBenefits').get('personBenefited')"
                  label="Documento de Identidad" name='id2'></app-input>
                <app-file-input class="mr-3" [group]="newRequest.get('primaryBenefits').get('personBenefited')"
                  name="id2Attached"
                  label="Adjuntar documento de identidad - Formato de los documentos: PDF (.pdf), JPG (.jpg) y PNG (.png)"
                  [fileNameWatcher]="id2AttachedViewValue(null, 'primaryBenefits')"
                  (onFileChange)="onBeneficiaryFileChangeOnArray($event, 'id2Attached', null, 'primaryBenefits')">
                </app-file-input>
              </div>
            </div>

            <mat-action-row class="action-row">
              <button mat-button class="next-button" (click)="nextStep()" type="button">
                Siguiente
              </button>
            </mat-action-row>
          </mat-expansion-panel>
          <mat-expansion-panel class="ww-mat-expansion" [expanded]="step === 8" (opened)="setStep(8)">
            <mat-expansion-panel-header class="body-13 icon-blue">
              <mat-panel-title>
                Beneficiario(s) Contingente(s)
              </mat-panel-title>
              <mat-panel-description>
                <div></div>
                <div *ngIf="showWarningDot(newRequest.get('contingentBeneficiary'))" class="warning-accordion-dot">
                </div>
              </mat-panel-description>
            </mat-expansion-panel-header>
            <div class="mb-6" style="color: #676767; font-size: 14px; font-weight: 300;"
              *ngIf="newRequest.get('contingentBeneficiary').get('dependentsC')['controls'].length === 0">
              No existen beneficiarios contingentes, pulse el boton para crear uno.
            </div>
            <div [formGroup]="newRequest.get('contingentBeneficiary')">
              <div formArrayName="dependentsC">
                <div
                  *ngFor="let element of newRequest.get('contingentBeneficiary').get('dependentsC')['controls']; let index = index">
                  <div [formGroupName]="index">
                    <div class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-4 lg:grid-cols-4 xl:grid-cols-4">
                      <app-input class="mr-3"
                        [group]="newRequest.get('contingentBeneficiary').get('dependentsC').get(index.toString())"
                        label="Nombres y Apellidos" name='name'></app-input>
                      <app-date-picker class="mr-3" id='date'
                        [group]="newRequest.get('contingentBeneficiary').get('dependentsC').get(index.toString())"
                        label="Fecha de Nacimiento" [max]="todayDate" name='date'></app-date-picker>
                      <app-select class="mr-3" [options]="idType"
                        [group]="newRequest.get('contingentBeneficiary').get('dependentsC').get(index.toString())">
                      </app-select>
                      <app-input class="mr-3"
                        [group]="newRequest.get('contingentBeneficiary').get('dependentsC').get(index.toString())"
                        label="Documento de Identidad" name='id2'></app-input>
                      <!-- <app-input class="mr-3"
                        [group]="newRequest.get('contingentBeneficiary').get('dependentsC').get(index.toString())"
                        label="Nacionalidad" name='nationality'></app-input> -->
                      <app-select class="mr-3" [options]="nationality"
                        [group]="newRequest.get('contingentBeneficiary').get('dependentsC').get(index.toString())">
                      </app-select>
                      <app-input class="mr-3"
                        [group]="newRequest.get('contingentBeneficiary').get('dependentsC').get(index.toString())"
                        label="Ocupación" name='ocupation'></app-input>
                      <app-select class="mr-3" [options]="family"
                        [group]="newRequest.get('contingentBeneficiary').get('dependentsC').get(index.toString())"
                        (selected)="relationWatcher($event, newRequest.get('contingentBeneficiary').get('dependentsC').get(index.toString()))">
                      </app-select>
                      <app-input class="mr-3"
                        [group]="newRequest.get('contingentBeneficiary').get('dependentsC').get(index.toString())"
                        *ngIf="newRequest.get('contingentBeneficiary').get('dependentsC').get(index.toString()).get('family').value == 'OTROS'"
                        label="Especificar" name='specifyRelationship'></app-input>
                      <app-number-input class="mr-3"
                        [group]="newRequest.get('contingentBeneficiary').get('dependentsC').get(index.toString())"
                        label="Cantidad en %" name='quantity' min="1" max="100"></app-number-input>
                      <app-file-input class="mr-3"
                        [group]="newRequest.get('contingentBeneficiary').get('dependentsC').get(index.toString())"
                        name="id2Attached"
                        label="Adjuntar documento de identidad si es mayor de edad - Formato de los documentos: PDF (.pdf), JPG (.jpg) y PNG (.png)"
                        [fileNameWatcher]="id2AttachedViewValue(index, 'contingentBeneficiary')"
                        (onFileChange)="onBeneficiaryFileChangeOnArray($event, 'id2Attached', index, 'contingentBeneficiary')">
                      </app-file-input>
                    </div>
                    <button mat-mini-fab aria-label="Eliminar reclamacion"
                      (click)="formMethods.deleteOneElement(contingentBeneficiaryArray, index)" type="button"
                      class="dashboard-toolbar-buttons" style="border: 1px rgb(197, 197, 197) solid">
                      <mat-icon style="color: #18446B">remove</mat-icon>
                    </button>

                    <hr class="mt-4 w-full mb-3 ww-divider">
                  </div>
                </div>
                <button mat-mini-fab aria-label="Agregar reclamacion"
                  (click)="add(contingentBeneficiaryArray,contigentBenefits)" type="button"
                  class="dashboard-toolbar-buttons" style="border: 1px rgb(197, 197, 197) solid">
                  <mat-icon style="color: #18446B">add</mat-icon>
                </button>
              </div>
            </div>
            <div>
              <label *ngIf="isBenefitMinorThan100('contingentBeneficiary', 'dependentsC')"
                class="formulary-labels text-red-300" style="color: #c53030;">
                La suma de los porcentajes de
                beneficios es menor a 100%,
                por favor revisar. </label>

              <label *ngIf="isBenefitMajorThan100('contingentBeneficiary', 'dependentsC')"
                class="formulary-labels text-red-300" style="color: #c53030;">
                La suma de los porcentajes de
                beneficios es mayor a 100%,
                por favor revisar. </label>
            </div>
            <div *ngIf="newRequest.get('contingentBeneficiary').get('dependentsC')['controls'].length > 0" class="mt-4">
              <p>Si a mi fallecimiento alguno de mis Beneficiarios Contigentes es menor de edad, el beneficio
                correspondiente será entregado a</p><br>
              <div class='grid grid-cols-1 sm:grid-cols-2 md:grid-cols-4 lg:grid-cols-4 xl:grid-cols-4'>
                <app-input class="mr-3" name="name" label="Nombre Completo"
                  [group]="newRequest.get('contingentBeneficiary').get('personBenefited')"></app-input>
                <app-select class="mr-3" [options]="family"
                  [group]="newRequest.get('contingentBeneficiary').get('personBenefited')"
                  (selected)="relationWatcher($event, newRequest.get('contingentBeneficiary').get('personBenefited'))">
                </app-select>
                <app-input class="mr-3" [group]="newRequest.get('contingentBeneficiary').get('personBenefited')"
                  *ngIf="newRequest.get('contingentBeneficiary').get('personBenefited').get('family').value == 'OTROS'"
                  label="Especificar" name='specifyRelationship'></app-input>
                <!-- <app-input class="mr-3" [group]="newRequest.get('contingentBeneficiary').get('personBenefited')"
                  label="Cant." name='id2'></app-input> -->
                <app-select class="mr-3" [options]="idType"
                  [group]="newRequest.get('contingentBeneficiary').get('personBenefited')">
                </app-select>
                <app-input class="mr-3" [group]="newRequest.get('contingentBeneficiary').get('personBenefited')"
                  label="Documento de Identidad" name='id2'></app-input>
                <app-file-input class="mr-3" [group]="newRequest.get('contingentBeneficiary').get('personBenefited')"
                  name="id2Attached"
                  label="Adjuntar documento de identidad - Formato de los documentos: PDF (.pdf), JPG (.jpg) y PNG (.png)"
                  [fileNameWatcher]="id2AttachedViewValue(null, 'contingentBeneficiary')"
                  (onFileChange)="onBeneficiaryFileChangeOnArray($event, 'id2Attached', null, 'contingentBeneficiary')">
                </app-file-input>
              </div>
            </div>

            <mat-action-row class="action-row">
              <button mat-button class="next-button" (click)="nextStep()" type="button">
                Siguiente
              </button>
            </mat-action-row>
          </mat-expansion-panel>
          <mat-expansion-panel class="ww-mat-expansion" [expanded]="step === 9" (opened)="setStep(9)">
            <mat-expansion-panel-header class="body-13 icon-blue">
              <mat-panel-title>
                Archivos Adjuntos - Formato de los documentos: PDF (.pdf), JPG (.jpg) y PNG (.png)

              </mat-panel-title>
              <mat-panel-description>
                <div></div>
                <div *ngIf="showWarningDot(newRequest.get('files'))" class="warning-accordion-dot"></div>
              </mat-panel-description>
            </mat-expansion-panel-header>

            <div class="radio-button-label" style="font-size: 12px !important; max-width: 63vw;">Adjuntar estudios
            </div>
            <div *ngFor="let studies of filesStudiesArray.controls; let i = index">
              <div class="grid grid-cols-1 sm:grid-cols-1 md:grid-cols-2 lg:grid-cols-4 xl:grid-cols-4">
                <app-file-input class="mr-3" [group]="newRequest.get('files').get('studies').get(i.toString())"
                  name="study" label="Estudio" [fileNameWatcher]="arrayStudiesWatcher(i)"
                  (onFileChange)="onStudiesChange($event, i)">
                </app-file-input>
                <div [ngClass]="{'': filesStudiesArray.length === 1, 'col-span-1': filesStudiesArray.length > 1} ">
                  <button mat-mini-fab aria-label=" Eliminar estudio"
                    (click)="diseaseService.removeToList(i, filesStudiesArray)" type="button"
                    class="dashboard-toolbar-buttons" style="border: 1px rgb(197, 197, 197) solid">
                    <mat-icon style="color: #18446B">remove</mat-icon>
                  </button>
                </div>
              </div>
            </div>
            <div class="mb-6">
              <button mat-mini-fab aria-label="Agregar estudio" (click)="addToList(filesStudiesArray, 'filesStudies')"
                type="button" class="dashboard-toolbar-buttons" style="border: 1px rgb(197, 197, 197) solid">
                <mat-icon style="color: #18446B">add</mat-icon>
              </button>
            </div>

            <mat-action-row class="action-row">
              <button mat-button class="next-button" (click)="nextStep()" type="button">
                Siguiente
              </button>
            </mat-action-row>
          </mat-expansion-panel>
          <mat-expansion-panel class="ww-mat-expansion" [expanded]="step === 10" (opened)="setStep(10)">
            <mat-expansion-panel-header class="body-13 icon-blue">
              <mat-panel-title>
                Comentarios adicionales
              </mat-panel-title>
              <mat-panel-description>
                <div></div>
                <div></div>
              </mat-panel-description>
            </mat-expansion-panel-header>
            <app-text-area label='Descripcion' style='height: 142px!important;' [group]="newRequest" label="texto"
              name='comentary'></app-text-area>
            <div *ngIf="role !== 'WWS'" class="declaraciones px-4 sm:px-4 md:px-14 lg:px-12 xl:px-12">
              En la medida de mis conocimientos, las declaraciones y respuestas suministradas en esta declaración son
              verdaderas, completas y correctamente
              anotadas. ADVERTENCIA: cualquier persona que a sabiendas y con la intención de dañar, defraudar o
              engañar
              a cualquier asegurador, presente un
              reclamo por beneficios de una póliza de seguro que contenga información falsa, incompleta o engañosa, o
              que conscientemente presente
              información falsa en una solicitud de seguros, podría ser hallado culpable de fraude de seguros.<br>
              Queda entendido y convenido que:<br>
              a. Worldwide Medical Assurance Ltd. Corp., (en adelante “La Compañía”), se reserva el derecho de
              rechazar
              o aceptar cualquier solicitud. La cobertura
              provista por La Compañía no entrará en vigor hasta que la solicitud sea recibida, aprobada y notificada
              por La Compañía.<br>
              b. Usted está de acuerdo que todas las respuestas mencionadas son completas y verdaderas. Si hubiera
              alguna(s) respuesta(s) falsa(s), inexacta(s),
              incompleta(s), fraude u omisión en esta solicitud, entonces el contrato podrá ser dado por terminado por
              La Compañía.<br>
              c. Con presentar una fotocopia o el original de este documento, autorizo voluntaria, libre y
              expresamente,
              durante toda la vigencia de la póliza, aún
              después de mi fallecimiento; a cualquier médico, profesional, hospital público o privado, clínica, Caja
              de
              Seguro Social u otra entidad o agencia
              gubernamental u otra persona médica o relacionada médicamente, proveedor de servicio de salud,
              empleador,
              asegurador o tenedor de pólizas de
              grupo, todos estos ya sea que estén ubicados en el territorio de la República de Panamá o en el
              extranjero; para proveer a La Compañía o
              representantes autorizados, de copia del expediente clínico, de toda información que ésta requiera en
              relación con mi salud de cualquier naturaleza
              y en cualquier etapa de mi vida, registrada en cualquier medio, incluyendo, pero sin limitarse,
              registros
              respecto a consejos, indicaciones, cuidado (s)
              o tratamiento (s) proporcionado (s) a mi y/o a mis dependientes, sin limitación a información
              relacionada
              con enfermedades mentales o el uso de
              drogas o alcohol. Esta es una manifestación libre y voluntaria, en pleno conocimiento de la Ley 68 de 20
              de noviembre de 2003, y demás normas
              afines. Por lo anteriormente manifestado, relevo (relevamos) y libero (liberamos) a todas esas personas,
              instituciones privadas y/o públicas, nacionales
              o extranjeras, de toda responsabilidad que le pueda comprometer por revelar, suministrar, mostrar o
              entregar copias simples o autenticadas de la
              información o documentación descrita anteriormente. Con la información o documentación facilitada, La
              Compañía puede realizar una evaluación
              adecuada sobre mi salud y la de mis dependientes, para determinar la cobertura de la póliza.<br>
              d. Autorizo a Worldwide Medical Assurance Ltd. Corp., La Compañía, a solicitar, gestionar y obtener ante
              cualquiera entidad de intermediación
              financiera y crediticia nacional o internacional, toda la información que sea considerada sobre mi
              historial de crédito, incluyendo de manera
              enunciativa y sin limitación alguna, a las obligaciones y transacciones comerciales que sean llevadas o
              pudiesen ser llevadas a cabo con cualquier
              entidad económica.
            </div>
            <div *ngIf="role === 'WWS'" class="declaraciones px-4 sm:px-4 md:px-14 lg:px-12 xl:px-12">
              <p class='formulary-labels'>Queda entendido y convenido que:</p><br>
              a. WorldWide Seguros, (en adelante “La Compañía”), se reserva el derecho de rechazar o aceptar
              cualquier solicitud. La cobertura provista por La Compañía no entrará en vigor hasta que la
              solicitud
              sea recibida, aprobada y notificada por La Compañía.<br>
              b. Usted está de acuerdo que todas las respuestas mencionadas son completas y verdaderas. Si
              hubiera
              alguna(s) respuesta(s) falsa(s), inexacta(s), incompleta(s), fraude u omisión en esta solicitud,
              entonces el contrato podrá serdado por terminado por La Compañía.<br>
              c. Con presentar una fotocopia o el original de este documento, autorizo voluntaria, libre y
              expresamente, durante toda la vigencia de la póliza, aún después de mi fallecimiento, a cualquier
              médico, profesional, hospital público oprivado, clínica, Caja de Seguro Social u otra entidad o
              agencia
              gubernamental u otra persona médica o relacionada médicamente, proveedor de servicio de salud,
              empleador, asegurador o tenedor de pólizas de grupo, todosestos ya sea que estén ubicados en el
              territorio de la República Dominicana o en el extranjero, para proveer a La Compañía o
              representantes
              autorizados, de copia del expediente clínico, de toda información que ésta requiera enrelación con
              mi
              salud de cualquier naturaleza y en cualquier etapa de mi vida, registrada en cualquier medio,
              incluyendo, pero sin limitarse, registros respecto a consejos, indicaciones, cuidado (s) o
              tratamiento
              (s) proporcionado(s) a mí y/o a mis dependientes, sin limitación a información relacionada con
              enfermedades mentales o el uso de drogas o alcohol. Esta es una manifestación libre y voluntaria.
              Por lo
              anteriormente manifestado, relevo (relevamos)y libero (liberamos) a todas esas personas,
              instituciones
              privadas y/o públicas, nacionales o extranjeras, de toda responsabilidad que le pueda comprometer
              por
              revelar, suministrar, mostrar o entregar copias simples o autenticadas de la información o
              documentación
              descrita anteriormente.<br>
              d. Autorizo a WorldWide Seguros, a solicitar, gestionar y obtener ante cualquiera entidad de
              intermediación financiera y crediticia nacional o internacional, toda la información que sea
              considerada
              sobre mi historial de crédito, incluyendo de manera enunciativa y sin limitación alguna, a las
              obligaciones y transacciones comerciales que sean llevadas o pudiesen ser llevadas a cabo con
              cualquier
              entidad económica.<br>
            </div>
            <mat-action-row class="action-row">
              <button mat-button class="next-button" (click)="nextStep()" type="button">
                Siguiente
              </button>
            </mat-action-row>
          </mat-expansion-panel>
        </mat-accordion>

        <!-- <app-know-your-customer *ngIf="isSolicitantePep"
          [form]="newRequest.get('person').get('conozcaSuClientePersona')" [title]="TitleConozcaClienteAsegurado">
        </app-know-your-customer>
        <app-know-your-customer *ngIf="isContractorPep" [title]="TitleConozcaClienteContratante"
          [form]="newRequest.get('contractor').get('conozcaSuClientePersona')">
        </app-know-your-customer>
        <app-know-your-client *ngIf="isJuridica"
          [form]="newRequest.get('contractor').get('conozcaSuClientePersonaJuridica')"> </app-know-your-client> -->

      </mat-tab>
      <mat-tab label="Cuestionarios Adicionales" class="mat-tab-forms" *ngIf="isFormReadyToRender();">
        <mat-accordion #matAccordion="matAccordion" name="matAccordion" class="ww-mat-accordion example-headers-align"
          [togglePosition]="'before'">
          <app-hypertension
            [affected]="newRequest.get('person').value.firstName+' '+newRequest.get('person').value.lastName"
            [showWarningDot]="showWarningDot(newRequest.get('questionsA').get('questionnairesGastosMayores').get('solicitudHipertensionArterial'))"
            *ngIf="newRequest.get('questionsA').get('questionnairesGastosMayores').get('solicitudHipertensionArterial')"
            [form]="newRequest.get('questionsA').get('questionnairesGastosMayores').get('solicitudHipertensionArterial')">
          </app-hypertension>
          <app-cardiovascular
            [affected]="newRequest.get('person').value.firstName+' '+newRequest.get('person').value.lastName"
            [showWarningDot]="showWarningDot(newRequest.get('questionsA').get('questionnairesGastosMayores').get('solicitudCardioVasculares'))"
            *ngIf="newRequest.get('questionsA').get('questionnairesGastosMayores').get('solicitudCardioVasculares')"
            [form]="newRequest.get('questionsA').get('questionnairesGastosMayores').get('solicitudCardioVasculares')">
          </app-cardiovascular>
          <app-mellitus-diabetes
            [affected]="newRequest.get('person').value.firstName+' '+newRequest.get('person').value.lastName"
            [showWarningDot]="showWarningDot(newRequest.get('questionsA').get('questionnairesGastosMayores').get('solicitudDiabetes'))"
            *ngIf="newRequest.get('questionsA').get('questionnairesGastosMayores').get('solicitudDiabetes')"
            [form]="newRequest.get('questionsA').get('questionnairesGastosMayores').get('solicitudDiabetes')">
          </app-mellitus-diabetes>
          <app-arthritis
            [affected]="newRequest.get('person').value.firstName+' '+newRequest.get('person').value.lastName"
            [showWarningDot]="showWarningDot(newRequest.get('questionsA').get('questionnairesGastosMayores').get('solicitudArtitris'))"
            *ngIf="newRequest.get('questionsA').get('questionnairesGastosMayores').get('solicitudArtitris')"
            [form]="newRequest.get('questionsA').get('questionnairesGastosMayores').get('solicitudArtitris')">
          </app-arthritis>
          <app-spine [affected]="newRequest.get('person').value.firstName+' '+newRequest.get('person').value.lastName"
            [showWarningDot]="showWarningDot(newRequest.get('questionsA').get('questionnairesGastosMayores').get('columnaVertebralColumnaVertebral'))"
            *ngIf="newRequest.get('questionsA').get('questionnairesGastosMayores').get('columnaVertebralColumnaVertebral')"
            [form]="newRequest.get('questionsA').get('questionnairesGastosMayores').get('columnaVertebralColumnaVertebral')">
          </app-spine>
          <app-musculoskeletal
            [affected]="newRequest.get('person').value.firstName+' '+newRequest.get('person').value.lastName"
            [showWarningDot]="showWarningDot(newRequest.get('questionsA').get('questionnairesGastosMayores').get('solicitudMusculoesqueleticos'))"
            *ngIf="newRequest.get('questionsA').get('questionnairesGastosMayores').get('solicitudMusculoesqueleticos')"
            [form]="newRequest.get('questionsA').get('questionnairesGastosMayores').get('solicitudMusculoesqueleticos')">
          </app-musculoskeletal>
          <app-renal-urinary
            [affected]="newRequest.get('person').value.firstName+' '+newRequest.get('person').value.lastName"
            [showWarningDot]="showWarningDot(newRequest.get('questionsA').get('questionnairesGastosMayores').get('solicitudRenales'))"
            *ngIf="newRequest.get('questionsA').get('questionnairesGastosMayores').get('solicitudRenales')"
            [form]="newRequest.get('questionsA').get('questionnairesGastosMayores').get('solicitudRenales')">
          </app-renal-urinary>
          <app-prostatic
            [affected]="newRequest.get('person').value.firstName+' '+newRequest.get('person').value.lastName"
            [showWarningDot]="showWarningDot(newRequest.get('questionsA').get('questionnairesGastosMayores').get('solicitudProstatica'))"
            *ngIf="newRequest.get('questionsA').get('questionnairesGastosMayores').get('solicitudProstatica')"
            [form]="newRequest.get('questionsA').get('questionnairesGastosMayores').get('solicitudProstatica')">
          </app-prostatic>
        </mat-accordion>
      </mat-tab>
      <mat-tab label="Cuestionarios Actividades" class="mat-tab-forms" *ngIf="isActivityReadyToRender();">
        <mat-accordion #matAccordion="matAccordion" name="matAccordion" class="ww-mat-accordion example-headers-align"
          [togglePosition]="'before'">
          <app-diving [affected]="newRequest.get('person').value.firstName+' '+newRequest.get('person').value.lastName"
            [showWarningDot]="showWarningDot(newRequest.get('questionsA').get('questionnairesGastosMayores').get('solicitudBuceo'))"
            *ngIf="newRequest.get('questionsA').get('questionnairesGastosMayores').get('solicitudBuceo')"
            [form]="newRequest.get('questionsA').get('questionnairesGastosMayores').get('solicitudBuceo')">
            ></app-diving>
          <app-racing [affected]="newRequest.get('person').value.firstName+' '+newRequest.get('person').value.lastName"
            [showWarningDot]="showWarningDot(newRequest.get('questionsA').get('questionnairesGastosMayores').get('solicitudMoto'))"
            *ngIf="newRequest.get('questionsA').get('questionnairesGastosMayores').get('solicitudMoto')"
            [form]="newRequest.get('questionsA').get('questionnairesGastosMayores').get('solicitudMoto')">
            ></app-racing>
          <app-skydiving
            [affected]="newRequest.get('person').value.firstName+' '+newRequest.get('person').value.lastName"
            [showWarningDot]="showWarningDot(newRequest.get('questionsA').get('questionnairesGastosMayores').get('solicitudAviacion'))"
            *ngIf="newRequest.get('questionsA').get('questionnairesGastosMayores').get('solicitudAviacion')"
            [form]="newRequest.get('questionsA').get('questionnairesGastosMayores').get('solicitudAviacion')">
            ></app-skydiving>
          <app-mountaineering
            [affected]="newRequest.get('person').value.firstName+' '+newRequest.get('person').value.lastName"
            [showWarningDot]="showWarningDot(newRequest.get('questionsA').get('questionnairesGastosMayores').get('solicitudMontanismo'))"
            *ngIf="newRequest.get('questionsA').get('questionnairesGastosMayores').get('solicitudMontanismo')"
            [form]="newRequest.get('questionsA').get('questionnairesGastosMayores').get('solicitudMontanismo')">
            ></app-mountaineering>
        </mat-accordion>
      </mat-tab>
      <!-- *ngIf="isContractorPep" -->
      <mat-tab *ngIf="( this.newRequest.get('conozcaSuClientePersonaJuridica') )"
        label="Contratante - Conozca a su cliente (Persona Jurídica)">
        <mat-accordion #matAccordion="matAccordion" name="matAccordion" class="ww-mat-accordion example-headers-align"
          [togglePosition]="'before'">
          <app-know-your-client [showWarningDot]="showWarningDot(newRequest.get('conozcaSuClientePersonaJuridica'))"
            *ngIf="this.newRequest.get('conozcaSuClientePersonaJuridica')"
            [form]="newRequest.get('conozcaSuClientePersonaJuridica')">
          </app-know-your-client>
        </mat-accordion>
      </mat-tab>
      <mat-tab *ngIf="( this.newRequest.get('conozcaSuClientePersonaJuridicaPayer') )"
        label="Pagador - Conozca a su cliente (Persona Jurídica)">
        <mat-accordion #matAccordion="matAccordion" name="matAccordion" class="ww-mat-accordion example-headers-align"
          [togglePosition]="'before'">
          <app-know-your-client
            [showWarningDot]="showWarningDot(newRequest.get('conozcaSuClientePersonaJuridicaPayer'))"
            *ngIf="this.newRequest.get('conozcaSuClientePersonaJuridicaPayer')"
            [form]="newRequest.get('conozcaSuClientePersonaJuridicaPayer')">
          </app-know-your-client>
        </mat-accordion>
      </mat-tab>
      <!--*ngIf="isSolicitantePep " -->
      <mat-tab *ngIf="this.newRequest.get('conozcaSuClientePersona') "
        label="Conozca a su cliente (Persona Física) - Asegurado">
        <mat-accordion #matAccordion="matAccordion" name="matAccordion" class="ww-mat-accordion example-headers-align"
          [togglePosition]="'before'">
          <!-- <app-know-your-client
            [showWarningDot]="showWarningDot(newRequest.get('contractor').get('conozcaSuClientePersonaJuridica'))"
            *ngIf="isJuridica" [form]="newRequest.get('contractor').get('conozcaSuClientePersonaJuridica')">
          </app-know-your-client> -->
          <app-know-your-customer [showWarningDot]="showWarningDot(newRequest.get('conozcaSuClientePersona'))"
            *ngIf="this.newRequest.get('conozcaSuClientePersona')" [form]="newRequest.get('conozcaSuClientePersona')">
          </app-know-your-customer>
          <!-- <app-know-your-customer
            [showWarningDot]="showWarningDot(newRequest.get('contractor').get('conozcaSuClientePersona'))"
            *ngIf="this.newRequest.get('contractor').get('conozcaSuClientePersona')" [form]="newRequest.get('contractor').get('conozcaSuClientePersona')">
          </app-know-your-customer> -->
          <!-- *ngIf="isContractorPep" -->
        </mat-accordion>
      </mat-tab>
      <mat-tab *ngIf="this.newRequest.get('conozcaSuClientePersonaContratante') "
        label="Conozca a su cliente (Persona Física) - Contratante">
        <mat-accordion #matAccordion="matAccordion" name="matAccordion" class="ww-mat-accordion example-headers-align"
          [togglePosition]="'before'">
          <!-- <app-know-your-client
          [showWarningDot]="showWarningDot(newRequest.get('contractor').get('conozcaSuClientePersonaJuridica'))"
          *ngIf="isJuridica" [form]="newRequest.get('contractor').get('conozcaSuClientePersonaJuridica')">
        </app-know-your-client> -->
          <app-know-your-customer
            [showWarningDot]="showWarningDot(newRequest.get('conozcaSuClientePersonaContratante'))"
            *ngIf="this.newRequest.get('conozcaSuClientePersonaContratante')"
            [form]="newRequest.get('conozcaSuClientePersonaContratante')">
          </app-know-your-customer>
          <!-- <app-know-your-customer
          [showWarningDot]="showWarningDot(newRequest.get('contractor').get('conozcaSuClientePersona'))"
          *ngIf="this.newRequest.get('contractor').get('conozcaSuClientePersona')" [form]="newRequest.get('contractor').get('conozcaSuClientePersona')">
        </app-know-your-customer> -->
          <!-- *ngIf="isContractorPep" -->
        </mat-accordion>
      </mat-tab>
      <!-- <mat-tab *ngIf="(this.newRequest.get('exposedPerson').get('contractor')
        && this.newRequest.get('exposedPerson').get('contractor').value == 'SI')"
        label="Conozca a su cliente (Persona Física) - Contratante">
        <mat-accordion #matAccordion="matAccordion" name="matAccordion" class="ww-mat-accordion example-headers-align"
          [togglePosition]="'before'">
          <app-know-your-customer
            [showWarningDot]="showWarningDot(newRequest.get('contractor').get('conozcaSuClientePersona'))"
            *ngIf="this.newRequest.get('contractor').get('conozcaSuClientePersona')"
            [form]="newRequest.get('contractor').get('conozcaSuClientePersona')">
          </app-know-your-customer>
        </mat-accordion>
      </mat-tab>  -->

      <mat-tab *ngIf="newRequest.get('antiLaundering')"
        label="Contratante - Formulario politica Anti-lavado de Dinero/Financiamiento y Terrorismo (AML)">
        <mat-accordion #matAccordion="matAccordion" name="matAccordion" class="ww-mat-accordion example-headers-align"
          [togglePosition]="'before'">
          <app-money-laundering [showWarningDot]="showWarningDot(newRequest.get('antiLaundering'))"
            [form]="newRequest.get('antiLaundering')">
          </app-money-laundering>
        </mat-accordion>
      </mat-tab>
      <mat-tab *ngIf="newRequest.get('antiLaunderingPayer')"
        label="Pagador - Formulario politica Anti-lavado de Dinero/Financiamiento y Terrorismo (AML)">
        <mat-accordion #matAccordion="matAccordion" name="matAccordion" class="ww-mat-accordion example-headers-align"
          [togglePosition]="'before'">
          <app-money-laundering [showWarningDot]="showWarningDot(newRequest.get('antiLaunderingPayer'))"
            [form]="newRequest.get('antiLaunderingPayer')">
          </app-money-laundering>
        </mat-accordion>
      </mat-tab>

      <mat-tab *ngFor=" let element of dependentsFormArray.controls; let i = index"
        [label]="'D'+ (i+1) +' - '+ newRequest.get('dependents').get('allDependents').get(i.toString()).value.name +' '+ newRequest.get('dependents').get('allDependents').get(i.toString()).value.lastName">
        <mat-accordion #matAccordion="matAccordion" name="matAccordion" class="ww-mat-accordion example-headers-align"
          [togglePosition]="'before'">
          <app-hypertension
            [affected]="newRequest.get('dependents').get('allDependents').get(i.toString()).value.name +' '+ newRequest.get('dependents').get('allDependents').get(i.toString()).value.lastName"
            [showWarningDot]="showWarningDot(newRequest.get('dependents').get('allDependents').get(i.toString()).get('solicitudHipertensionArterial'))"
            *ngIf="newRequest.get('dependents').get('allDependents').get(i.toString()).get('solicitudHipertensionArterial')"
            [form]="newRequest.get('dependents').get('allDependents').get(i.toString()).get('solicitudHipertensionArterial')">
          </app-hypertension>
          <app-cardiovascular
            [affected]="newRequest.get('dependents').get('allDependents').get(i.toString()).value.name +' '+ newRequest.get('dependents').get('allDependents').get(i.toString()).value.lastName"
            [showWarningDot]="showWarningDot(newRequest.get('dependents').get('allDependents').get(i.toString()).get('solicitudCardioVasculares'))"
            *ngIf="newRequest.get('dependents').get('allDependents').get(i.toString()).get('solicitudCardioVasculares')"
            [form]="newRequest.get('dependents').get('allDependents').get(i.toString()).get('solicitudCardioVasculares')">
          </app-cardiovascular>
          <app-mellitus-diabetes
            [affected]="newRequest.get('dependents').get('allDependents').get(i.toString()).value.name +' '+ newRequest.get('dependents').get('allDependents').get(i.toString()).value.lastName"
            [showWarningDot]="showWarningDot(newRequest.get('dependents').get('allDependents').get(i.toString()).get('solicitudDiabetes'))"
            *ngIf="newRequest.get('dependents').get('allDependents').get(i.toString()).get('solicitudDiabetes')"
            [form]="newRequest.get('dependents').get('allDependents').get(i.toString()).get('solicitudDiabetes')">
          </app-mellitus-diabetes>
          <app-arthritis
            [affected]="newRequest.get('dependents').get('allDependents').get(i.toString()).value.name +' '+ newRequest.get('dependents').get('allDependents').get(i.toString()).value.lastName"
            [showWarningDot]="showWarningDot(newRequest.get('dependents').get('allDependents').get(i.toString()).get('solicitudArtitris'))"
            *ngIf="newRequest.get('dependents').get('allDependents').get(i.toString()).get('solicitudArtitris')"
            [form]="newRequest.get('dependents').get('allDependents').get(i.toString()).get('solicitudArtitris')">
          </app-arthritis>
          <app-spine
            [affected]="newRequest.get('dependents').get('allDependents').get(i.toString()).value.name +' '+ newRequest.get('dependents').get('allDependents').get(i.toString()).value.lastName"
            [showWarningDot]="showWarningDot(newRequest.get('dependents').get('allDependents').get(i.toString()).get('columnaVertebralColumnaVertebral'))"
            *ngIf="newRequest.get('dependents').get('allDependents').get(i.toString()).get('columnaVertebralColumnaVertebral')"
            [form]="newRequest.get('dependents').get('allDependents').get(i.toString()).get('columnaVertebralColumnaVertebral')">
          </app-spine>
          <app-musculoskeletal
            [affected]="newRequest.get('dependents').get('allDependents').get(i.toString()).value.name +' '+ newRequest.get('dependents').get('allDependents').get(i.toString()).value.lastName"
            [showWarningDot]="showWarningDot(newRequest.get('dependents').get('allDependents').get(i.toString()).get('solicitudMusculoesqueleticos'))"
            *ngIf="newRequest.get('dependents').get('allDependents').get(i.toString()).get('solicitudMusculoesqueleticos')"
            [form]="newRequest.get('dependents').get('allDependents').get(i.toString()).get('solicitudMusculoesqueleticos')">
          </app-musculoskeletal>
          <app-renal-urinary
            [affected]="newRequest.get('dependents').get('allDependents').get(i.toString()).value.name +' '+ newRequest.get('dependents').get('allDependents').get(i.toString()).value.lastName"
            [showWarningDot]="showWarningDot(newRequest.get('dependents').get('allDependents').get(i.toString()).get('solicitudRenales'))"
            *ngIf="newRequest.get('dependents').get('allDependents').get(i.toString()).get('solicitudRenales')"
            [form]="newRequest.get('dependents').get('allDependents').get(i.toString()).get('solicitudRenales')">
          </app-renal-urinary>
          <app-prostatic
            [affected]="newRequest.get('dependents').get('allDependents').get(i.toString()).value.name +' '+ newRequest.get('dependents').get('allDependents').get(i.toString()).value.lastName"
            [showWarningDot]="showWarningDot(newRequest.get('dependents').get('allDependents').get(i.toString()).get('solicitudProstatica'))"
            *ngIf="newRequest.get('dependents').get('allDependents').get(i.toString()).get('solicitudProstatica')"
            [form]="newRequest.get('dependents').get('allDependents').get(i.toString()).get('solicitudProstatica')">
          </app-prostatic>
          <app-diving
            [affected]="newRequest.get('dependents').get('allDependents').get(i.toString()).value.name +' '+ newRequest.get('dependents').get('allDependents').get(i.toString()).value.lastName"
            [showWarningDot]="showWarningDot(newRequest.get('dependents').get('allDependents').get(i.toString()).get('solicitudBuceo'))"
            *ngIf="newRequest.get('dependents').get('allDependents').get(i.toString()).get('solicitudBuceo')"
            [form]="newRequest.get('dependents').get('allDependents').get(i.toString()).get('solicitudBuceo')">
            ></app-diving>
          <app-racing
            [affected]="newRequest.get('dependents').get('allDependents').get(i.toString()).value.name +' '+ newRequest.get('dependents').get('allDependents').get(i.toString()).value.lastName"
            [showWarningDot]="showWarningDot(newRequest.get('dependents').get('allDependents').get(i.toString()).get('solicitudMoto'))"
            *ngIf="newRequest.get('dependents').get('allDependents').get(i.toString()).get('solicitudMoto')"
            [form]="newRequest.get('dependents').get('allDependents').get(i.toString()).get('solicitudMoto')">
            ></app-racing>
          <app-skydiving
            [affected]="newRequest.get('dependents').get('allDependents').get(i.toString()).value.name +' '+ newRequest.get('dependents').get('allDependents').get(i.toString()).value.lastName"
            [showWarningDot]="showWarningDot(newRequest.get('dependents').get('allDependents').get(i.toString()).get('solicitudAviacion'))"
            *ngIf="newRequest.get('dependents').get('allDependents').get(i.toString()).get('solicitudAviacion')"
            [form]="newRequest.get('dependents').get('allDependents').get(i.toString()).get('solicitudAviacion')">
            ></app-skydiving>
          <app-mountaineering
            [affected]="newRequest.get('dependents').get('allDependents').get(i.toString()).value.name +' '+ newRequest.get('dependents').get('allDependents').get(i.toString()).value.lastName"
            [showWarningDot]="showWarningDot(newRequest.get('dependents').get('allDependents').get(i.toString()).get('solicitudMontanismo'))"
            *ngIf="newRequest.get('dependents').get('allDependents').get(i.toString()).get('solicitudMontanismo')"
            [form]="newRequest.get('dependents').get('allDependents').get(i.toString()).get('solicitudMontanismo')">
            ></app-mountaineering>
        </mat-accordion>
      </mat-tab>
    </mat-tab-group>
  </form>
  <div *ngIf="isGoToTopRender() && isFormValidToFill" class="mt-4" style="color: #da8300;">Por favor revise si hay
    formularios adicionales
    necesarios
    para completar su solicitud,
    <button style="font-weight: 600; color: #18446B;" (click)="requestService.goToTop(top)"> pulse
      aqui para subir la
      vista a la parte superior.</button>
  </div>
  <form #form="ngForm">
    <div class="mt-4" *ngIf="isFormValidToFill">
      <!-- <button mat-button class="cancel-form-button" style="margin-right: 7.5px !important;"
        (click)="formHandler.sendForm(newRequest, 'major-expenses', 'cancel')" type="submit">Cancelar</button> -->
      <button mat-button class="save-button" style="margin-right: 7.5px !important;"
        (click)="formHandler.sendForm(newRequest, 'major-expenses', 'save', appComponent, ID,true)"
        type="submit">Guardar</button>
      <button mat-button class="send-button" [disabled]="!newRequest.valid"
        (click)="formHandler.sendForm(newRequest, 'major-expenses', 'send', appComponent, ID,true)"
        type="submit">Enviar</button>
    </div>
  </form>
</div>

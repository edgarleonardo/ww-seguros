<div class="p-6 pr-6 xs:pr-6 sm:pr-6 md:pr-12 lg:pr-12 xl:pr-12 bg-white">
  <form [formGroup]='newRequest'>
    <h3 class="uppercase dashboard-page-title pt-20">FORMULARIO DE SOLICITUD DE SUSCRIPCIÓN SEGURO DE GASTOS MÉDICOS
      MAYORES</h3>
    <div class="mt-6 p-3 pb-0 info-home">
      <div class="filter-title">Info. Inicio</div>
      <div class="mt-3 grid grid-cols-1 sm:grid-cols-1 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-4">
        <app-select class="mr-3" [options]="requestTypeOptions" [group]="newRequest"></app-select>
        <app-radio-button class="mr-3" [group]="newRequest" name="payment" [options]="payments"></app-radio-button>
        <app-select class="mr-3" [options]="plans" [group]="newRequest"></app-select>
        <app-radio-button class="mr-3" [group]="newRequest" name="deducibles" [options]="deducibles">
        </app-radio-button>
      </div>
    </div>
    <mat-tab-group>
      <mat-tab label="Asegurado">
        <app-forms-container [titles]="titles">
          <ng-template #formTemplate>
            <div class="mt-3 grid grid-cols-1 sm:grid-cols-3 md:grid-cols-2 lg:grid-cols-4 xl:grid-cols-4">
              <app-input class="mr-3" [group]="newRequest.get('contractor')" label="Nombre de la Sociedad"
                name='societyName'></app-input>
              <app-input class="mr-3" [group]="newRequest.get('contractor')" label="Nombre Comercial"
                name='commercialName'></app-input>
              <app-input class="mr-3" [group]="newRequest.get('contractor')" label="Núm. Contribuyente o equivalente"
                name='taxpayerNumber'></app-input>
              <app-input class="mr-3" [group]="newRequest.get('contractor')" label="Domicilio Social" name='socialHome'>
              </app-input>
              <app-input class="mr-3" [group]="newRequest.get('contractor')" label="Teléfono (s)" name='tel'>
              </app-input>
              <app-input class="mr-3" [group]="newRequest.get('contractor')" label="Correo" name='email'></app-input>
              <app-input class="mr-3" [group]="newRequest.get('contractor')" label="Actividad Comercial"
                name='commercialActivity'></app-input>
              <app-select class="mr-3" [options]="requestTypeOptions" [group]="newRequest"></app-select>
            </div>
            <mat-divider class="divider"></mat-divider>

            <div class="mt-4 grid grid-cols-1 sm:grid-cols-3 md:grid-cols-2 lg:grid-cols-4 xl:grid-cols-4">
              <app-input class="mr-3" [group]="newRequest.get('contractor').get('legalRepresentation')"
                label="Nombres y Apellidos Representante Legal" name='name'></app-input>
              <app-input class="mr-3" [group]="newRequest.get('contractor').get('legalRepresentation')"
                label="Cargo o relación con la Sociedad" name='position'></app-input>
              <app-input class="mr-3" [group]="newRequest.get('contractor').get('legalRepresentation')"
                label="Nacionalidad" name='nationality'></app-input>
              <app-input class="mr-3" [group]="newRequest.get('contractor').get('legalRepresentation')"
                label="Cédula / Pasaporte" name='id'></app-input>
              <app-input class="mr-3" [group]="newRequest.get('contractor').get('legalRepresentation')"
                label="Póliza Existente (Si aplica)" name='policy'></app-input>
              <app-input class="mr-3" [group]="newRequest.get('contractor').get('legalRepresentation')" label="Correo"
                name='email'></app-input>
            </div>
          </ng-template>
          <ng-template #formTemplate>
            <div class="mt-3 grid grid-cols-1 sm:grid-cols-3 md:grid-cols-2 lg:grid-cols-4 xl:grid-cols-4">
              <app-input class="mr-3" [group]="newRequest.get('person')" label="Primer Nombre" name='firstName'>
              </app-input>
              <app-input class="mr-3" [group]="newRequest.get('person')" label="Segundo Nombre" name='secondName'>
              </app-input>
              <app-input class="mr-3" [group]="newRequest.get('person')"
                label="Primer y Segundo Apellido / Apellido de Ca." name='lastName'></app-input>
              <app-date-picker class="mr-3" [group]="newRequest.get('person')" label="fecha" name='date'>
              </app-date-picker>
              <app-radio-button class="mr-3" [group]="newRequest.get('person')" name="sex" [options]="sex">
              </app-radio-button>
              <app-input class="mr-3" [group]="newRequest.get('person')" label="Nacionalidad" name='nationality'>
              </app-input>
              <app-input class="mr-3" [group]="newRequest.get('person')" label="Cédula/Pasaporte" name='id'></app-input>
              <app-input class="mr-3" [group]="newRequest.get('person')" label="Edad" name='age'></app-input>
              <div class="mr-3 grid grid-cols-1 sm:grid-cols-1 md:grid-cols-2 lg:grid-cols-2 xl:grid-cols-2">
                <app-input class="mr-3" [group]="newRequest.get('person')" label="Peso / lbs" name='weight'></app-input>
                <app-input class="mr-3" [group]="newRequest.get('person')" label="Lbs" name='height'></app-input>
              </div>
              <app-select class="mr-3" [options]="status" [group]="newRequest.get('person')"></app-select>
              <app-select class="mr-3" [options]="country" [group]="newRequest.get('person')"></app-select>
              <app-input class="mr-3" [group]="newRequest.get('person')" label="Ciudad/Provincia" name='city'>
              </app-input>
              <app-input class="mr-3" [group]="newRequest.get('person')" label="Dirección de Residencia"
                name='direction'>
              </app-input>
              <app-input class="mr-3" [group]="newRequest.get('person')" label="Tel. Residencia" name='tel'></app-input>
              <app-input class="mr-3" [group]="newRequest.get('person')" label="Tel. Celular" name='cel'></app-input>
              <app-input class="mr-3" [group]="newRequest.get('person')" label="Tel. Oficina" name='officeTel'>
              </app-input>
              <app-input class="mr-3" [group]="newRequest.get('person')" label="Fax" name='fax'></app-input>
              <app-input class="mr-3" [group]="newRequest.get('person')" label="Correo" name='email'></app-input>
            </div>

            <mat-divider class="divider"></mat-divider>

            <div class="mt-3 grid grid-cols-1 sm:grid-cols-3 md:grid-cols-2 lg:grid-cols-4 xl:grid-cols-4">
              <app-input class="mr-3" [group]="newRequest.get('person').get('office')" label="Empresa donde labora"
                name='company'></app-input>
              <app-input class="mr-3" [group]="newRequest.get('person').get('office')" label="Ocupación/Cargo"
                name='position'></app-input>
              <app-input class="mr-3" [group]="newRequest.get('person').get('office')" label="Dirección"
                name='direction'>
              </app-input>
              <app-input class="mr-3" [group]="newRequest.get('person').get('office')"
                label="Actividad Económica de la Empresa" name='economicActivity'></app-input>
              <app-input class="mr-3" [group]="newRequest.get('person').get('office')" label="Sector" name='sector'>
              </app-input>
              <app-input class="mr-3" [group]="newRequest.get('person').get('office')" label="Ciudad" name='city'>
              </app-input>
              <app-select class="mr-3" [options]="country" [group]="newRequest.get('person')"></app-select>
            </div>
          </ng-template>
          <ng-template #formTemplate>
            <div class="colorb">
              <p>Las Personas Políticamente Expuestas son aquéllas que desempeñan o han desempeñado funciones públicas
                destacadas en un país extranjero o en su propio país, ej. Jefes de Estado o de gobierno, políticos de
                alta jerarquía, funcionarios gubernamentales, judiciales o militares de alta jerarquía, altos ejecutivos
                de empresas estatales, funcionarios importantes de partidos políticos, entre otros. La designación de
                PEP incluye a su cónyuge y familiares hasta el segundo grado de consanguinidad y segundo de afinidad.
              </p>
            </div>
            <div>
              <h4 class='pb-3 pt-3'>¿Es Usted una Persona Políticamente Expuesta?</h4>
              <mat-divider></mat-divider>
            </div>
            <div class="grid">
              <div class="pb-5">
                <div class="relative p-3">
                  <div class="absolute inset-y-0 pt-3 left-0">
                    <p>Contratante</p>
                  </div>
                  <div class="absolute pt-3 inset-y-0 right-0">
                    <app-radio-button [group]="newRequest.get('exposedPerson')" name="contractor" [options]="res">
                    </app-radio-button>
                  </div>
                </div>
                <div class="w-50 pt-5" *ngIf="newRequest.get('exposedPerson').get('contractor').value">
                  <div class='grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-3 xl:grid-cols-3'>
                    <app-input class="mr-3" [group]="newRequest.get('exposedPerson')" label="Cargo actual o anterior"
                      name='lastPosition'></app-input>
                    <app-input class="mr-3" [group]="newRequest.get('exposedPerson')" label="Tiempo" name='time'>
                    </app-input>
                    <app-select class="mr-3" [options]="year" [group]="newRequest.get('exposedPerson')"></app-select>

                  </div>
                </div>
              </div>
              <div class="">
                <div class="relative b-40">
                  <div class="absolute inset-y-0 pt-3 left-0">Titular</div>
                  <div class="absolute inset-y-0 pt-3 right-0">

                    <app-radio-button [group]="newRequest.get('exposedPerson')" name="contractor" [options]="res">
                    </app-radio-button>

                  </div>
                  <mat-divider></mat-divider>
                </div>
              </div>
              <div class="w-50 pt-5" *ngIf="newRequest.get('exposedPerson').get('headLine').value">
                <div class='grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-3 xl:grid-cols-3'>
                  <app-input class="mr-3" [group]="newRequest.get('exposedPerson')" label="Cargo actual o anterior"
                    name='lastPosition'></app-input>
                  <app-input class="mr-3" [group]="newRequest.get('exposedPerson')" label="Tiempo" name='time'>
                  </app-input>
                  <app-select class="mr-3" [options]="year" [group]="newRequest.get('exposedPerson')"></app-select>
                </div>
              </div>
            </div>
          </ng-template>
          <ng-template #formTemplate>
            <app-radio-button class="mr-3" [group]="newRequest" name="prinsipalIncome" [options]="mony"
              title='Ingresos anuales actividad principal'></app-radio-button>
            <app-radio-button class="mr-3" [group]="newRequest" name="otherIncomes" [options]="mony"
              title='Ingresos anuales por otras actividades'></app-radio-button>
          </ng-template>
          <ng-template #formTemplate>
            <div [formGroup]="newRequest.get('dependents')">
              <div formArrayName="allDependents">
                <div *ngFor="let element of dependentsFormArray.controls; let index = index">

                  <div [formGroupName]="index"
                    class="mt-3 grid grid-cols-1 sm:grid-cols-2 md:grid-cols-4 lg:grid-cols-5 xl:grid-cols-5">
                    <app-input class="mr-3"
                      [group]="newRequest.get('dependents').get('allDependents').get(index.toString())" label="Nombre"
                      name='name'></app-input>
                    <app-input class="mr-3"
                      [group]="newRequest.get('dependents').get('allDependents').get(index.toString())"
                      label="Apellidos" name='lastName'></app-input>
                    <app-input class="mr-3"
                      [group]="newRequest.get('dependents').get('allDependents').get(index.toString())"
                      label="Cedula o documento de identidad" name='id'></app-input>
                    <app-radio-button class="mb-3"
                      [group]="newRequest.get('dependents').get('allDependents').get(index.toString())" name="family"
                      [options]="family"></app-radio-button>
                    <app-date-picker class="mr-3"
                      [group]="newRequest.get('dependents').get('allDependents').get(index.toString())" name='date'>
                    </app-date-picker>
                    <app-radio-button class="mr-3"
                      [group]="newRequest.get('dependents').get('allDependents').get(index.toString())" name="sex"
                      [options]="sex"></app-radio-button>
                    <div class="mr-3 grid grid-cols-1 sm:grid-cols-1 md:grid-cols-2 lg:grid-cols-2 xl:grid-cols-2">
                      <app-input class="mr-3"
                        [group]="newRequest.get('dependents').get('allDependents').get(index.toString())"
                        label="Peso / lbs" name='weight'></app-input>
                      <app-input class="mr-3"
                        [group]="newRequest.get('dependents').get('allDependents').get(index.toString())" label="Lbs"
                        name='height'></app-input>
                    </div>
                    <app-input class="mr-3"
                      [group]="newRequest.get('dependents').get('allDependents').get(index.toString())"
                      label="Nacionalidad" name='nationality'></app-input><br>
                  </div>
                  <div>
                    <button mat-mini-fab aria-label="Agregar reclamacion"
                      (click)="add(dependentsFormArray,dependentFormGroup)" type="button"
                      class="dashboard-toolbar-buttons" style="border: 1px rgb(197, 197, 197) solid">
                      <mat-icon style="color: #18446B">add</mat-icon>
                    </button>
                    <button mat-mini-fab aria-label="Eliminar reclamacion"
                      (click)="formMethods.deleteOneElement(dependentsFormArray, index)" type="button"
                      class="dashboard-toolbar-buttons" style="border: 1px rgb(197, 197, 197) solid">
                      <mat-icon style="color: #18446B">remove</mat-icon>
                    </button>
                  </div>

                </div>
                <div *ngIf="dependentsFormArray.controls.length === 0">
                  <button mat-mini-fab aria-label="Agregar reclamacion"
                    (click)="add(dependentsFormArray,dependentFormGroup)" type="button"
                    class="dashboard-toolbar-buttons" style="border: 1px rgb(197, 197, 197) solid">
                    <mat-icon style="color: #18446B">add</mat-icon>
                  </button>
                </div>
              </div>

              <div formArrayName="students" class="pt-20" *ngIf="dependentsFormArray.controls.length > 0">
                <div>
                  <p class='formulary-labels'>¿Los hijos de 19 a 24 años son estudiantes a tiempo completo?</p> <br><br>
                  <p class='formulary-labels'>Si su respuesta es afirmativa, mencione el nombre y el número de teléfono
                    de la Universidad:</p><br>
                </div>

                <div *ngFor="let control of studentDependents.controls; let i = index">
                  <div class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-4 lg:grid-cols-4 xl:grid-cols-4">
                    <app-input class="mr-3" [group]="newRequest.get('dependents').get('students').get(i.toString())"
                      label="Nombre" name='name'></app-input>
                    <app-input class="mr-3" [group]="newRequest.get('dependents').get('students').get(i.toString())"
                      label="Universidad" name='univercity'></app-input>
                    <app-input class="mr-3" [group]="newRequest.get('dependents').get('students').get(i.toString())"
                      label="Telefono de la Universidad" name='univercityPhone'></app-input>
                    <div>
                      <button mat-mini-fab aria-label="Agregar reclamacion" (click)="add(studentDependents,student)"
                        type="button" class="dashboard-toolbar-buttons" style="border: 1px rgb(197, 197, 197) solid">
                        <mat-icon style="color: #18446B">add</mat-icon>
                      </button>
                      <button mat-mini-fab aria-label="Eliminar reclamacion"
                        (click)="formMethods.deleteOneElement(studentDependents, index)" type="button"
                        class="dashboard-toolbar-buttons" style="border: 1px rgb(197, 197, 197) solid">
                        <mat-icon style="color: #18446B">remove</mat-icon>
                      </button>

                    </div>
                  </div>
                </div>
                <div *ngIf=' studentDependents.controls.length === 0'>
                  <button mat-mini-fab aria-label="Agregar reclamacion" (click)="add(studentDependents,student)"
                    type="button" class="dashboard-toolbar-buttons" style="border: 1px rgb(197, 197, 197) solid">
                    <mat-icon style="color: #18446B">add</mat-icon>
                  </button>
                </div>
              </div>
            </div>

          </ng-template>
          <ng-template #formTemplate>
            <div>
              <!-- <p class="formulary-labels pb-3">Según su mejor entendimiento y conocimiento, hay alguna
                    persona nombrada en esta solicitud que haya padecido o padezca de alguna de las siguientes enfermedades:</p>
                  <hr class="w-full mb-10 ww-divider">
          
                  <div *ngFor="let que of questions; let idx = index">
                    <div
                      class="w-full xl:flex xl:justify-between lg:flex lg:justify-between md:flex md:justify-between sm:flex sm:justify-between">
                      <div class="radio-button-label" style="max-width: 80%;">{{idx+1}}. {{que.question}}</div>
                      <app-radio-button [group]="newRequest.get('questions')" [name]="que.name" [options]="yesOrNo"
                        (selected)="selectChange($event)">
                      </app-radio-button>
                    </div> -->

              <!-- SI ESTA EMBARAZADA -->
              <!-- <div *ngIf="newRequest.get('questions').value.havePregnant === 'si' && que.name === 'havePregnant'">
                      <label class="my-2 text-xs">Favor indicar semanas de embarazo</label>
                      <div style="width: 200px;">
                        <app-input class="mr-3" [group]="newRequest.get('questions').get('pregnant')" type="number"
                          label="Semanas" name='time'>
                        </app-input>
                      </div>
                    </div> -->

              <!-- SI FUMABA -->
              <!-- <div *ngIf="newRequest.get('questions').value.haveNicotine === 'si' && que.name === 'haveNicotine'">
                      <label class="my-2 text-xs">Especifique cantidad por día y cuánto tiempo tiene o estuvo fumando</label>
                      <div class='grid grid-cols-1 sm:grid-cols-1 md:grid-cols-2 lg:grid-cols-2 xl:grid-cols-2'>
                        <div class='grid grid-cols-1 sm:grid-cols-1 md:grid-cols-2 lg:grid-cols-2 xl:grid-cols-2'>
                          <div class="mr-3">
                            <app-input class="mr-3" [group]="newRequest.get('questions').get('nicotine')" label="Cantidad por día"
                              name='quantity'>
                            </app-input>
                          </div>
                          <div class='grid grid-cols-2 sm:grid-cols-2 md:grid-cols-2 lg:grid-cols-2 xl:grid-cols-2'>
                            <app-input class="mr-3" [group]="newRequest.get('questions').get('nicotine')" label="Tiempo"
                              name='timerange'>
                            </app-input>
                            <app-select class="mr-3" [options]="year" [group]="newRequest.get('questions').get('nicotine')">
                            </app-select>
                          </div>
                        </div>
                        <div></div>
                      </div>
                    </div> -->

              <!-- SI PRACTICA DEPORTE DE ALTO RIESGO -->
              <!-- <div *ngIf="newRequest.get('questions').value.haveHighRiskSport === 'si' && que.name === 'haveHighRiskSport'">
                      <label class="my-2 text-xs">¿Desde cuándo? Describa</label>
                      <div style="width: 200px;">
                        <app-date-picker class="mr-3" [group]="newRequest.get('questions').get('highRiskSport')" label="Fecha"
                          name='date'>
                        </app-date-picker>
                      </div>
                      <div class="mt-2">
                        <app-text-area [group]="newRequest.get('questions').get('highRiskSport')" label="Texto" name='info'>
                        </app-text-area>
                      </div>
                    </div>
                    <hr class="w-full mb-6 ww-divider">
                  </div> -->
            </div>
            <p class="formulary-labels pb-3">Según su mejor entendimiento y conocimiento, hay alguna persona nombrada en
              esta solicitud que haya padecido o padezca de alguna de las siguientes enfermedades:
            </p>
            <hr class="w-full mb-10 ww-divider">

            <div
              class="w-full xl:flex xl:justify-between lg:flex lg:justify-between md:flex md:justify-between sm:flex sm:justify-between">
              <div class="radio-button-label self-center" style="max-width: 80%;">¿Ha recibido transfusión de sangre?
              </div>
              <div class="flex">
                <div class="self-center">
                  <mat-radio-group name="transfusion" (change)="radioChange($event)" class="radio-group">
                    <mat-radio-button value="si" class="mr-3 radio-button">
                      Si</mat-radio-button>
                    <mat-radio-button value="no" class="mr-3 radio-button">
                      No</mat-radio-button>
                  </mat-radio-group>
                </div>
                <mat-form-field color="accent" appearance="outline">
                  <mat-label>Seleccione Dependiente</mat-label>
                  <mat-select multiple style="font-size: small !important;">
                    <mat-option value="dependiente">Asegurado - {{newRequest.get('person').value.firstName}}
                      {{newRequest.get('person').value.lastName}}
                    </mat-option>
                    <!-- <mat-option *ngFor="let dpd of newRequest.get('dependents').value; let idx = index"
                      value="dependiente">
                      D{{idx+1}} - {{dpd.name}} {{dpd.lastName}}</mat-option> -->
                  </mat-select>
                </mat-form-field>
              </div>
            </div>
          </ng-template>
          <ng-template #formTemplate>
            <div formArrayName="questionsB">
              <div *ngFor="let element of questionsBFormArray.controls; let index = index">
                <div [formGroupName]="index">

                  <div class="grid grid-cols-12">
                    <div class="col-span-8">
                      <div class='question'>
                        <p class='body-13'>{{questions[index].question}}</p>
                      </div>
                    </div>
                    <div class="col-span-4">
                      <div class="grid grid-cols-2 sm:grid-cols-2 md:grid-cols-2 lg:grid-cols-2 xl:grid-cols-2">
                        <app-radio-button (selected)="selectChangeB($event,index)"
                          [group]="newRequest.get('questionsB').get(index.toString())" name="answer" [options]="res">
                        </app-radio-button>
                        <app-select
                          *ngIf="index === 3 && newRequest.get('questionsB').get(index.toString()).get('answer').value"
                          style="width: 115px;" class="mr-3" [options]="allFamily"
                          [group]="newRequest.get('questionsB').get(index.toString())"></app-select>
                      </div>
                    </div>
                  </div>
                  <br>

                  <div>

                    <div *ngIf="index === 2 &&  newRequest.get('questionsB').get(index.toString()).get('answer').value">
                      <div formArrayName="procedures">
                        <div *ngFor="let element of proceduresArray.controls; let i = index">
                          <div [formGroupName]="i">
                            <div style="width: 200px;">
                              <app-input class="mr-3" [group]="proceduresFormGroup(index,i)" label="Nombre del Paciente"
                                name='patientsName'></app-input>
                            </div>

                            <div class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-4 lg:grid-cols-4 xl:grid-cols-4">
                              <app-input class="mr-3" [group]="proceduresFormGroup(index,i)" label="Padecimientos"
                                name='procedures'></app-input>
                              <app-date-picker class="mr-3" id='date' [group]="proceduresFormGroup(index,i)"
                                label="fecha" name='date'></app-date-picker>
                              <app-input class="mr-3" [group]="proceduresFormGroup(index,i)" label="Tratamiento"
                                name='treatment'></app-input>
                              <div
                                class="mr-3 grid grid-cols-1 sm:grid-cols-1 md:grid-cols-2 lg:grid-cols-2 xl:grid-cols-2">
                                <app-input class="mr-3" [group]="proceduresFormGroup(index,i)" label="Duración"
                                  name='duration'></app-input>
                                <app-select class="mr-3" [options]="year" [group]="proceduresFormGroup(index,i)">
                                </app-select>
                              </div>
                              <app-input class="mr-3" [group]="proceduresFormGroup(index,i)"
                                label="Nombre del proveedor" name='providerName'></app-input>
                              <app-input class="mr-3" [group]="proceduresFormGroup(index,i)"
                                label="Dirección del proveedor o centro médico" name='providerDirection'></app-input>
                            </div>
                            <button mat-mini-fab aria-label="Agregar reclamacion" (click)="addprocedures()"
                              type="button" class="dashboard-toolbar-buttons"
                              style="border: 1px rgb(197, 197, 197) solid">
                              <mat-icon style="color: #18446B">add</mat-icon>
                            </button>
                            <button *ngIf='proceduresArray.controls.length > 1' mat-mini-fab
                              aria-label="Eliminar reclamacion"
                              (click)="formMethods.deleteOneElement(proceduresArray, i)" type="button"
                              class="dashboard-toolbar-buttons" style="border: 1px rgb(197, 197, 197) solid">
                              <mat-icon style="color: #18446B">remove</mat-icon>
                            </button>
                          </div>
                          <br>
                          <mat-divider></mat-divider><br>

                        </div>
                      </div>
                    </div>

                    <div *ngIf="index === 4 &&  newRequest.get('questionsB').get(index.toString()).get('answer').value">
                      <p>¿Por qué razón?</p>
                      <app-text-area label='Descripcion' style='height: 142px!important;'
                        [group]="newRequest.get('questionsB').get(index.toString())" label="texto" name='reason'>
                      </app-text-area>
                    </div>

                    <div *ngIf="index === 5 && newRequest.get('questionsB').get(index.toString()).get('answer').value">
                      <div class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-4 lg:grid-cols-4 xl:grid-cols-4">
                        <app-input class="mr-3"
                          [group]="newRequest.get('questionsB').get(index.toString()).get('policy')"
                          label="Nombres y Apellidos" name='companyName'></app-input>
                        <app-input class="mr-3"
                          [group]="newRequest.get('questionsB').get(index.toString()).get('policy')"
                          label="Nombres y Apellidos" name='policyName'></app-input>
                        <app-input class="mr-3"
                          [group]="newRequest.get('questionsB').get(index.toString()).get('policy')"
                          label="Nombres y Apellidos" name='insuredName'></app-input>
                        <app-input class="mr-3"
                          [group]="newRequest.get('questionsB').get(index.toString()).get('policy')"
                          label="Nombres y Apellidos" name='insuranceCarrier'></app-input>
                        <app-input class="mr-3"
                          [group]="newRequest.get('questionsB').get(index.toString()).get('policy')"
                          label="Nombres y Apellidos" name='typepolicy'></app-input>
                        <app-date-picker class="mr-3" id='date'
                          [group]="newRequest.get('questionsB').get(index.toString()).get('policy')" label="fecha"
                          name='date'></app-date-picker>
                        <app-radio-button [group]="newRequest.get('questionsB').get(index.toString()).get('policy')"
                          title='Se encuentra vigente en la actualidad' name="valid" [options]="res"></app-radio-button>
                        <app-radio-button [group]="newRequest.get('questionsB').get(index.toString()).get('policy')"
                          title='¿Tuvo alguna reclamación?' name="reclamation" [options]="res"></app-radio-button>
                      </div>
                      <br>
                      <div
                        *ngIf="newRequest.get('questionsB').get(index.toString()).get('policy').get('reclamation').value">
                        <p>Especifique la reclamación</p>
                        <app-text-area style='height: 142px!important;'
                          [group]="newRequest.get('questionsB').get(index.toString()).get('policy')" label="texto"
                          name='reclamationSpecification'></app-text-area>
                      </div>
                    </div>
                  </div>
                  <br>
                </div>
              </div>
            </div>
          </ng-template>
          <ng-template #formTemplate>
            <div [formGroup]="newRequest.get('primaryBenefits')">
              <div formArrayName="dependentsC">
                <div
                  *ngFor="let element of newRequest.get('primaryBenefits').get('dependentsC')['controls']; let index = index">
                  <div [formGroupName]="index">
                    <div class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-4 lg:grid-cols-4 xl:grid-cols-4">
                      <app-input class="mr-3"
                        [group]="newRequest.get('primaryBenefits').get('dependentsC').get(index.toString())"
                        label="Nombres y Apellidos" name='name'></app-input>
                      <app-date-picker class="mr-3" id='date'
                        [group]="newRequest.get('primaryBenefits').get('dependentsC').get(index.toString())"
                        label="fecha" name='date'></app-date-picker>
                      <app-input class="mr-3"
                        [group]="newRequest.get('primaryBenefits').get('dependentsC').get(index.toString())"
                        label="Documento de Identidad" name='id'></app-input>
                      <app-input class="mr-3"
                        [group]="newRequest.get('primaryBenefits').get('dependentsC').get(index.toString())"
                        label="Nacionalidad" name='nationality'></app-input>
                      <app-input class="mr-3"
                        [group]="newRequest.get('primaryBenefits').get('dependentsC').get(index.toString())"
                        label="Ocupación" name='ocupation'></app-input>
                      <app-select class="mr-3" [options]="family"
                        [group]="newRequest.get('primaryBenefits').get('dependentsC').get(index.toString())">
                      </app-select>
                      <app-input class="mr-3"
                        [group]="newRequest.get('primaryBenefits').get('dependentsC').get(index.toString())"
                        label="Cant." name='quantity'></app-input>
                    </div>

                    <div class="pb-5">
                      <button mat-mini-fab aria-label="Agregar reclamacion"
                        (click)="add(newRequest.get('primaryBenefits').get('dependentsC'),primaryBenefits)"
                        type="button" class="dashboard-toolbar-buttons" style="border: 1px rgb(197, 197, 197) solid">
                        <mat-icon style="color: #18446B">add</mat-icon>
                      </button>

                      <button *ngIf="newRequest.get('primaryBenefits').get('dependentsC')['controls'].length > 1"
                        mat-mini-fab aria-label="Eliminar reclamacion"
                        (click)="formMethods.deleteOneElement(newRequest.get('primaryBenefits').get('dependentsC'), index)"
                        type="button" class="dashboard-toolbar-buttons" style="border: 1px rgb(197, 197, 197) solid">
                        <mat-icon style="color: #18446B">remove</mat-icon>
                      </button>
                    </div>


                    <mat-divider class="pt-5"></mat-divider><br>
                  </div>
                </div>
              </div>
            </div>
            <div>
              <p>Si a mi fallecimiento alguno de mis Beneficiarios Primarios es menor de edad, el beneficio
                correspondiente será entregado a</p><br>
              <div class='grid grid-cols-1 sm:grid-cols-2 md:grid-cols-4 lg:grid-cols-4 xl:grid-cols-4'>
                <app-select class="mr-3" [options]="family"
                  [group]="newRequest.get('primaryBenefits').get('personBenefited')"></app-select>
                <app-select class="mr-3" [options]="family"
                  [group]="newRequest.get('primaryBenefits').get('personBenefited')"></app-select>
                <app-input class="mr-3" [group]="newRequest.get('primaryBenefits').get('personBenefited')" label="Cant."
                  name='id'></app-input>
              </div>
            </div>
          </ng-template>
          <ng-template #formTemplate>
            <div [formGroup]="newRequest.get('contingentBeneficiary')">
              <div formArrayName="dependentsC">
                <div
                  *ngFor="let element of newRequest.get('contingentBeneficiary').get('dependentsC')['controls']; let index = index">
                  <div [formGroupName]="index">
                    <div class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-4 lg:grid-cols-4 xl:grid-cols-4">
                      <app-input class="mr-3"
                        [group]="newRequest.get('contingentBeneficiary').get('dependentsC').get(index.toString())"
                        label="Nombres y Apellidos" name='name'></app-input>
                      <app-date-picker class="mr-3" id='date'
                        [group]="newRequest.get('contingentBeneficiary').get('dependentsC').get(index.toString())"
                        label="fecha" name='date'></app-date-picker>
                      <app-input class="mr-3"
                        [group]="newRequest.get('contingentBeneficiary').get('dependentsC').get(index.toString())"
                        label="Documento de Identidad" name='id'></app-input>
                      <app-input class="mr-3"
                        [group]="newRequest.get('contingentBeneficiary').get('dependentsC').get(index.toString())"
                        label="Nacionalidad" name='nationality'></app-input>
                      <app-input class="mr-3"
                        [group]="newRequest.get('contingentBeneficiary').get('dependentsC').get(index.toString())"
                        label="Ocupación" name='ocupation'></app-input>
                      <app-select class="mr-3" [options]="family"
                        [group]="newRequest.get('contingentBeneficiary').get('dependentsC').get(index.toString())">
                      </app-select>
                      <app-input class="mr-3"
                        [group]="newRequest.get('contingentBeneficiary').get('dependentsC').get(index.toString())"
                        label="Cant." name='quantity'></app-input>
                    </div>

                    <div class="pb-5">
                      <button mat-mini-fab aria-label="Agregar reclamacion"
                        (click)="add(newRequest.get('contingentBeneficiary').get('dependentsC'),primaryBenefits)"
                        type="button" class="dashboard-toolbar-buttons" style="border: 1px rgb(197, 197, 197) solid">
                        <mat-icon style="color: #18446B">add</mat-icon>
                      </button>

                      <button *ngIf="newRequest.get('contingentBeneficiary').get('dependentsC')['controls'].length > 1"
                        mat-mini-fab aria-label="Eliminar reclamacion"
                        (click)="formMethods.deleteOneElement(newRequest.get('contingentBeneficiary').get('dependentsC'), index)"
                        type="button" class="dashboard-toolbar-buttons" style="border: 1px rgb(197, 197, 197) solid">
                        <mat-icon style="color: #18446B">remove</mat-icon>
                      </button>
                    </div>


                    <br>
                    <mat-divider></mat-divider><br>
                  </div>
                </div>
              </div>
            </div>
            <div>
              <p>Si a mi fallecimiento alguno de mis Beneficiarios Primarios es menor de edad, el beneficio
                correspondiente será entregado a</p><br>
              <div class='grid grid-cols-1 sm:grid-cols-2 md:grid-cols-4 lg:grid-cols-4 xl:grid-cols-4'>
                <app-select class="mr-3" [options]="family"
                  [group]="newRequest.get('contingentBeneficiary').get('personBenefited')"></app-select>
                <app-select class="mr-3" [options]="family"
                  [group]="newRequest.get('contingentBeneficiary').get('personBenefited')"></app-select>
                <app-input class="mr-3" [group]="newRequest.get('contingentBeneficiary').get('personBenefited')"
                  label="Cant." name='id'></app-input>
              </div>
            </div>
          </ng-template>
          <ng-template #formTemplate>
            <app-text-area label='Descripcion' style='height: 142px!important;' [group]="newRequest" label="texto"
              name='comentary'></app-text-area>
            <div class="colorb">
              <p class='formulary-labels'>Queda entendido y convenido que:</p><br><br>
              <p>a. WorldWide Seguros, (en adelante “La Compañía”), se reserva el derecho de rechazar o aceptar
                cualquier solicitud. La cobertura provista por La Compañía no entrará en vigor hasta que la solicitud
                sea recibida, aprobada y notificada por La Compañía.</p><br>
              <p>b. Usted está de acuerdo que todas las respuestas mencionadas son completas y verdaderas. Si hubiera
                alguna(s) respuesta(s) falsa(s), inexacta(s), incompleta(s), fraude u omisión en esta solicitud,
                entonces el contrato podrá serdado por terminado por La Compañía. </p><br>
              <p>c. Con presentar una fotocopia o el original de este documento, autorizo voluntaria, libre y
                expresamente, durante toda la vigencia de la póliza, aún después de mi fallecimiento, a cualquier
                médico, profesional, hospital público oprivado, clínica, Caja de Seguro Social u otra entidad o agencia
                gubernamental u otra persona médica o relacionada médicamente, proveedor de servicio de salud,
                empleador, asegurador o tenedor de pólizas de grupo, todosestos ya sea que estén ubicados en el
                territorio de la República Dominicana o en el extranjero, para proveer a La Compañía o representantes
                autorizados, de copia del expediente clínico, de toda información que ésta requiera enrelación con mi
                salud de cualquier naturaleza y en cualquier etapa de mi vida, registrada en cualquier medio,
                incluyendo, pero sin limitarse, registros respecto a consejos, indicaciones, cuidado (s) o tratamiento
                (s) proporcionado(s) a mí y/o a mis dependientes, sin limitación a información relacionada con
                enfermedades mentales o el uso de drogas o alcohol. Esta es una manifestación libre y voluntaria. Por lo
                anteriormente manifestado, relevo (relevamos)y libero (liberamos) a todas esas personas, instituciones
                privadas y/o públicas, nacionales o extranjeras, de toda responsabilidad que le pueda comprometer por
                revelar, suministrar, mostrar o entregar copias simples o autenticadas de la información o documentación
                descrita anteriormente. </p><br>
              <p>d. Autorizo a WorldWide Seguros, a solicitar, gestionar y obtener ante cualquiera entidad de
                intermediación financiera y crediticia nacional o internacional, toda la información que sea considerada
                sobre mi historial de crédito, incluyendo de manera enunciativa y sin limitación alguna, a las
                obligaciones y transacciones comerciales que sean llevadas o pudiesen ser llevadas a cabo con cualquier
                entidad económica.</p><br>
            </div>
          </ng-template>
        </app-forms-container>
        <button mat-button (click)="print()">Imprimeme eta vaina</button>

      </mat-tab>
      <mat-tab *ngFor=" let element of dependentsFormArray.controls; let i = index"
        [label]="'D0'+ dependentsFormArray.controls.length">
        hola {{i}}
      </mat-tab>
    </mat-tab-group>

  </form>
</div>
